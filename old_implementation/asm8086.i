# 1 "asm8086.c"
# 1 "<built-in>" 1
# 1 "<built-in>" 3
# 466 "<built-in>" 3
# 1 "<command line>" 1
# 1 "<built-in>" 2
# 1 "asm8086.c" 2
# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/stdlib.h" 1 3 4
# 58 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/stdlib.h" 3 4
# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/_stdlib.h" 1 3 4
# 64 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/_stdlib.h" 3 4
# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/Availability.h" 1 3 4
# 196 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/Availability.h" 3 4
# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/AvailabilityVersions.h" 1 3 4
# 197 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/Availability.h" 2 3 4
# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/AvailabilityInternal.h" 1 3 4
# 33 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/AvailabilityInternal.h" 3 4
# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/AvailabilityVersions.h" 1 3 4
# 34 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/AvailabilityInternal.h" 2 3 4
# 198 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/Availability.h" 2 3 4
# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/AvailabilityInternalLegacy.h" 1 3 4
# 34 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/AvailabilityInternalLegacy.h" 3 4
# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/AvailabilityInternal.h" 1 3 4
# 35 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/AvailabilityInternalLegacy.h" 2 3 4
# 199 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/Availability.h" 2 3 4
# 65 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/_stdlib.h" 2 3 4
# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/cdefs.h" 1 3 4
# 782 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/cdefs.h" 3 4
# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/_symbol_aliasing.h" 1 3 4
# 783 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/cdefs.h" 2 3 4
# 848 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/cdefs.h" 3 4
# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/_posix_availability.h" 1 3 4
# 849 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/cdefs.h" 2 3 4
# 966 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/cdefs.h" 3 4
# 1 "/Library/Developer/CommandLineTools/usr/lib/clang/17/include/ptrcheck.h" 1 3 4
# 967 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/cdefs.h" 2 3 4
# 66 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/_stdlib.h" 2 3 4

# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/_bounds.h" 1 3 4
# 68 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/_stdlib.h" 2 3 4
# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/_types.h" 1 3 4
# 27 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/_types.h" 3 4
# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/_types.h" 1 3 4
# 33 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/_types.h" 3 4
# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/machine/_types.h" 1 3 4
# 34 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/machine/_types.h" 3 4
# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/arm/_types.h" 1 3 4
# 28 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/arm/_types.h" 3 4
typedef signed char __int8_t;



typedef unsigned char __uint8_t;
typedef short __int16_t;
typedef unsigned short __uint16_t;
typedef int __int32_t;
typedef unsigned int __uint32_t;
typedef long long __int64_t;
typedef unsigned long long __uint64_t;

typedef long __darwin_intptr_t;
typedef unsigned int __darwin_natural_t;
# 61 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/arm/_types.h" 3 4
typedef int __darwin_ct_rune_t;





typedef union {
 char __mbstate8[128];
 long long _mbstateL;
} __mbstate_t;

typedef __mbstate_t __darwin_mbstate_t;




typedef long int __darwin_ptrdiff_t;
# 87 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/arm/_types.h" 3 4
typedef long unsigned int __darwin_size_t;







typedef __builtin_va_list __darwin_va_list;







typedef int __darwin_wchar_t;




typedef __darwin_wchar_t __darwin_rune_t;


typedef int __darwin_wint_t;




typedef unsigned long __darwin_clock_t;
typedef __uint32_t __darwin_socklen_t;
typedef long __darwin_ssize_t;
typedef long __darwin_time_t;
# 35 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/machine/_types.h" 2 3 4
# 34 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/_types.h" 2 3 4
# 67 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/_types.h" 3 4
typedef __int64_t __darwin_blkcnt_t;
typedef __int32_t __darwin_blksize_t;
typedef __int32_t __darwin_dev_t;
typedef unsigned int __darwin_fsblkcnt_t;
typedef unsigned int __darwin_fsfilcnt_t;
typedef __uint32_t __darwin_gid_t;
typedef __uint32_t __darwin_id_t;
typedef __uint64_t __darwin_ino64_t;

typedef __darwin_ino64_t __darwin_ino_t;



typedef __darwin_natural_t __darwin_mach_port_name_t;
typedef __darwin_mach_port_name_t __darwin_mach_port_t;
typedef __uint16_t __darwin_mode_t;
typedef __int64_t __darwin_off_t;
typedef __int32_t __darwin_pid_t;
typedef __uint32_t __darwin_sigset_t;
typedef __int32_t __darwin_suseconds_t;
typedef __uint32_t __darwin_uid_t;
typedef __uint32_t __darwin_useconds_t;
typedef unsigned char __darwin_uuid_t[16];
typedef char __darwin_uuid_string_t[37];



# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/_pthread/_pthread_types.h" 1 3 4
# 57 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/_pthread/_pthread_types.h" 3 4
struct __darwin_pthread_handler_rec {
 void (*__routine)(void *);
 void *__arg;
 struct __darwin_pthread_handler_rec *__next;
};

struct _opaque_pthread_attr_t {
 long __sig;
 char __opaque[56];
};

struct _opaque_pthread_cond_t {
 long __sig;
 char __opaque[40];
};

struct _opaque_pthread_condattr_t {
 long __sig;
 char __opaque[8];
};

struct _opaque_pthread_mutex_t {
 long __sig;
 char __opaque[56];
};

struct _opaque_pthread_mutexattr_t {
 long __sig;
 char __opaque[8];
};

struct _opaque_pthread_once_t {
 long __sig;
 char __opaque[8];
};

struct _opaque_pthread_rwlock_t {
 long __sig;
 char __opaque[192];
};

struct _opaque_pthread_rwlockattr_t {
 long __sig;
 char __opaque[16];
};

struct _opaque_pthread_t {
 long __sig;
 struct __darwin_pthread_handler_rec *__cleanup_stack;
 char __opaque[8176];
};

typedef struct _opaque_pthread_attr_t __darwin_pthread_attr_t;
typedef struct _opaque_pthread_cond_t __darwin_pthread_cond_t;
typedef struct _opaque_pthread_condattr_t __darwin_pthread_condattr_t;
typedef unsigned long __darwin_pthread_key_t;
typedef struct _opaque_pthread_mutex_t __darwin_pthread_mutex_t;
typedef struct _opaque_pthread_mutexattr_t __darwin_pthread_mutexattr_t;
typedef struct _opaque_pthread_once_t __darwin_pthread_once_t;
typedef struct _opaque_pthread_rwlock_t __darwin_pthread_rwlock_t;
typedef struct _opaque_pthread_rwlockattr_t __darwin_pthread_rwlockattr_t;
typedef struct _opaque_pthread_t *__darwin_pthread_t;
# 95 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/_types.h" 2 3 4
# 28 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/_types.h" 2 3 4
# 43 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/_types.h" 3 4
typedef int __darwin_nl_item;
typedef int __darwin_wctrans_t;

typedef __uint32_t __darwin_wctype_t;
# 69 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/_stdlib.h" 2 3 4

# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/wait.h" 1 3 4
# 79 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/wait.h" 3 4
typedef enum {
 P_ALL,
 P_PID,
 P_PGID
} idtype_t;





# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/_types/_pid_t.h" 1 3 4
# 31 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/_types/_pid_t.h" 3 4
typedef __darwin_pid_t pid_t;
# 90 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/wait.h" 2 3 4
# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/_types/_id_t.h" 1 3 4
# 31 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/_types/_id_t.h" 3 4
typedef __darwin_id_t id_t;
# 91 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/wait.h" 2 3 4
# 109 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/wait.h" 3 4
# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/signal.h" 1 3 4
# 73 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/signal.h" 3 4
# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/appleapiopts.h" 1 3 4
# 74 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/signal.h" 2 3 4
# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/Availability.h" 1 3 4
# 75 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/signal.h" 2 3 4







# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/machine/signal.h" 1 3 4
# 34 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/machine/signal.h" 3 4
# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/arm/signal.h" 1 3 4
# 17 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/arm/signal.h" 3 4
typedef int sig_atomic_t;
# 35 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/machine/signal.h" 2 3 4
# 83 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/signal.h" 2 3 4
# 146 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/signal.h" 3 4
# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/machine/_mcontext.h" 1 3 4
# 34 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/machine/_mcontext.h" 3 4
# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/arm/_mcontext.h" 1 3 4
# 36 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/arm/_mcontext.h" 3 4
# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/mach/machine/_structs.h" 1 3 4
# 35 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/mach/machine/_structs.h" 3 4
# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/mach/arm/_structs.h" 1 3 4
# 37 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/mach/arm/_structs.h" 3 4
# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/machine/types.h" 1 3 4
# 37 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/machine/types.h" 3 4
# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/arm/types.h" 1 3 4
# 55 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/arm/types.h" 3 4
# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/_types/_int8_t.h" 1 3 4
# 30 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/_types/_int8_t.h" 3 4
typedef signed char int8_t;
# 56 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/arm/types.h" 2 3 4
# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/_types/_int16_t.h" 1 3 4
# 30 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/_types/_int16_t.h" 3 4
typedef short int16_t;
# 57 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/arm/types.h" 2 3 4
# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/_types/_int32_t.h" 1 3 4
# 30 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/_types/_int32_t.h" 3 4
typedef int int32_t;
# 58 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/arm/types.h" 2 3 4
# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/_types/_int64_t.h" 1 3 4
# 30 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/_types/_int64_t.h" 3 4
typedef long long int64_t;
# 59 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/arm/types.h" 2 3 4

# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/_types/_u_int8_t.h" 1 3 4
# 30 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/_types/_u_int8_t.h" 3 4
typedef unsigned char u_int8_t;
# 61 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/arm/types.h" 2 3 4
# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/_types/_u_int16_t.h" 1 3 4
# 30 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/_types/_u_int16_t.h" 3 4
typedef unsigned short u_int16_t;
# 62 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/arm/types.h" 2 3 4
# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/_types/_u_int32_t.h" 1 3 4
# 30 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/_types/_u_int32_t.h" 3 4
typedef unsigned int u_int32_t;
# 63 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/arm/types.h" 2 3 4
# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/_types/_u_int64_t.h" 1 3 4
# 30 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/_types/_u_int64_t.h" 3 4
typedef unsigned long long u_int64_t;
# 64 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/arm/types.h" 2 3 4


typedef int64_t register_t;




# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/_types/_intptr_t.h" 1 3 4
# 32 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/_types/_intptr_t.h" 3 4
typedef __darwin_intptr_t intptr_t;
# 72 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/arm/types.h" 2 3 4
# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/_types/_uintptr_t.h" 1 3 4
# 34 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/_types/_uintptr_t.h" 3 4
typedef unsigned long uintptr_t;
# 73 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/arm/types.h" 2 3 4




typedef u_int64_t user_addr_t;
typedef u_int64_t user_size_t;
typedef int64_t user_ssize_t;
typedef int64_t user_long_t;
typedef u_int64_t user_ulong_t;
typedef int64_t user_time_t;
typedef int64_t user_off_t;
# 105 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/arm/types.h" 3 4
typedef u_int64_t syscall_arg_t;
# 38 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/machine/types.h" 2 3 4
# 38 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/mach/arm/_structs.h" 2 3 4



struct __darwin_arm_exception_state
{
 __uint32_t __exception;
 __uint32_t __fsr;
 __uint32_t __far;
};
# 59 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/mach/arm/_structs.h" 3 4
struct __darwin_arm_exception_state64
{
 __uint64_t __far;
 __uint32_t __esr;
 __uint32_t __exception;
};

struct __darwin_arm_exception_state64_v2
{
 __uint64_t __far;
 __uint64_t __esr;
};
# 89 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/mach/arm/_structs.h" 3 4
struct __darwin_arm_thread_state
{
 __uint32_t __r[13];
 __uint32_t __sp;
 __uint32_t __lr;
 __uint32_t __pc;
 __uint32_t __cpsr;
};
# 148 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/mach/arm/_structs.h" 3 4
struct __darwin_arm_thread_state64
{
 __uint64_t __x[29];
 __uint64_t __fp;
 __uint64_t __lr;
 __uint64_t __sp;
 __uint64_t __pc;
 __uint32_t __cpsr;
 __uint32_t __pad;
};
# 519 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/mach/arm/_structs.h" 3 4
struct __darwin_arm_vfp_state
{
 __uint32_t __r[64];
 __uint32_t __fpscr;
};
# 538 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/mach/arm/_structs.h" 3 4
struct __darwin_arm_neon_state64
{
 __uint128_t __v[32];
 __uint32_t __fpsr;
 __uint32_t __fpcr;
};

struct __darwin_arm_neon_state
{
 __uint128_t __v[16];
 __uint32_t __fpsr;
 __uint32_t __fpcr;
};
# 609 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/mach/arm/_structs.h" 3 4
struct __arm_pagein_state
{
 int __pagein_error;
};



struct __darwin_arm_sme_state
{
 __uint64_t __svcr;
 __uint64_t __tpidr2_el0;
 __uint16_t __svl_b;
};


struct __darwin_arm_sve_z_state
{
 char __z[16][256];
} __attribute__((aligned(4)));


struct __darwin_arm_sve_p_state
{
 char __p[16][256 / 8];
} __attribute__((aligned(4)));


struct __darwin_arm_sme_za_state
{
 char __za[4096];
} __attribute__((aligned(4)));


struct __darwin_arm_sme2_state
{
 char __zt0[64];
} __attribute__((aligned(4)));
# 712 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/mach/arm/_structs.h" 3 4
struct __arm_legacy_debug_state
{
 __uint32_t __bvr[16];
 __uint32_t __bcr[16];
 __uint32_t __wvr[16];
 __uint32_t __wcr[16];
};
# 735 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/mach/arm/_structs.h" 3 4
struct __darwin_arm_debug_state32
{
 __uint32_t __bvr[16];
 __uint32_t __bcr[16];
 __uint32_t __wvr[16];
 __uint32_t __wcr[16];
 __uint64_t __mdscr_el1;
};


struct __darwin_arm_debug_state64
{
 __uint64_t __bvr[16];
 __uint64_t __bcr[16];
 __uint64_t __wvr[16];
 __uint64_t __wcr[16];
 __uint64_t __mdscr_el1;
};
# 777 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/mach/arm/_structs.h" 3 4
struct __darwin_arm_cpmu_state64
{
 __uint64_t __ctrs[16];
};
# 36 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/mach/machine/_structs.h" 2 3 4
# 37 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/arm/_mcontext.h" 2 3 4




struct __darwin_mcontext32
{
 struct __darwin_arm_exception_state __es;
 struct __darwin_arm_thread_state __ss;
 struct __darwin_arm_vfp_state __fs;
};
# 64 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/arm/_mcontext.h" 3 4
struct __darwin_mcontext64
{
 struct __darwin_arm_exception_state64 __es;
 struct __darwin_arm_thread_state64 __ss;
 struct __darwin_arm_neon_state64 __ns;
};
# 85 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/arm/_mcontext.h" 3 4
typedef struct __darwin_mcontext64 *mcontext_t;
# 35 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/machine/_mcontext.h" 2 3 4
# 147 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/signal.h" 2 3 4

# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/_pthread/_pthread_attr_t.h" 1 3 4
# 31 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/_pthread/_pthread_attr_t.h" 3 4
typedef __darwin_pthread_attr_t pthread_attr_t;
# 149 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/signal.h" 2 3 4

# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/_types/_sigaltstack.h" 1 3 4
# 42 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/_types/_sigaltstack.h" 3 4
struct __darwin_sigaltstack
{
 void *ss_sp;
 __darwin_size_t ss_size;
 int ss_flags;
};
typedef struct __darwin_sigaltstack stack_t;
# 151 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/signal.h" 2 3 4
# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/_types/_ucontext.h" 1 3 4
# 43 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/_types/_ucontext.h" 3 4
struct __darwin_ucontext
{
 int uc_onstack;
 __darwin_sigset_t uc_sigmask;
 struct __darwin_sigaltstack uc_stack;
 struct __darwin_ucontext *uc_link;
 __darwin_size_t uc_mcsize;
 struct __darwin_mcontext64 *uc_mcontext;



};


typedef struct __darwin_ucontext ucontext_t;
# 152 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/signal.h" 2 3 4


# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/_types/_sigset_t.h" 1 3 4
# 31 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/_types/_sigset_t.h" 3 4
typedef __darwin_sigset_t sigset_t;
# 155 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/signal.h" 2 3 4
# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/_types/_size_t.h" 1 3 4
# 50 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/_types/_size_t.h" 3 4
typedef __darwin_size_t size_t;
# 156 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/signal.h" 2 3 4
# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/_types/_uid_t.h" 1 3 4
# 31 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/_types/_uid_t.h" 3 4
typedef __darwin_uid_t uid_t;
# 157 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/signal.h" 2 3 4

union sigval {

 int sival_int;
 void *sival_ptr;
};





struct sigevent {
 int sigev_notify;
 int sigev_signo;
 union sigval sigev_value;
 void (*sigev_notify_function)(union sigval);
 pthread_attr_t *sigev_notify_attributes;
};


typedef struct __siginfo {
 int si_signo;
 int si_errno;
 int si_code;
 pid_t si_pid;
 uid_t si_uid;
 int si_status;
 void *si_addr;
 union sigval si_value;
 long si_band;
 unsigned long __pad[7];
} siginfo_t;
# 269 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/signal.h" 3 4
union __sigaction_u {
 void (*__sa_handler)(int);
 void (*__sa_sigaction)(int, struct __siginfo *,
     void *);
};


struct __sigaction {
 union __sigaction_u __sigaction_u;
 void (*sa_tramp)(void *, int, int, siginfo_t *, void *);
 sigset_t sa_mask;
 int sa_flags;
};




struct sigaction {
 union __sigaction_u __sigaction_u;
 sigset_t sa_mask;
 int sa_flags;
};
# 331 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/signal.h" 3 4
typedef void (*sig_t)(int);
# 348 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/signal.h" 3 4
struct sigvec {
 void (*sv_handler)(int);
 int sv_mask;
 int sv_flags;
};
# 367 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/signal.h" 3 4
struct sigstack {
 char *ss_sp;
 int ss_onstack;
};
# 390 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/signal.h" 3 4
void(*signal(int, void (*)(int)))(int);
# 110 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/wait.h" 2 3 4
# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/resource.h" 1 3 4
# 72 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/resource.h" 3 4
# 1 "/Library/Developer/CommandLineTools/usr/lib/clang/17/include/stdint.h" 1 3 4
# 56 "/Library/Developer/CommandLineTools/usr/lib/clang/17/include/stdint.h" 3 4
# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/stdint.h" 1 3 4
# 23 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/stdint.h" 3 4
# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/_types/_uint8_t.h" 1 3 4
# 31 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/_types/_uint8_t.h" 3 4
typedef unsigned char uint8_t;
# 24 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/stdint.h" 2 3 4
# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/_types/_uint16_t.h" 1 3 4
# 31 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/_types/_uint16_t.h" 3 4
typedef unsigned short uint16_t;
# 25 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/stdint.h" 2 3 4
# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/_types/_uint32_t.h" 1 3 4
# 31 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/_types/_uint32_t.h" 3 4
typedef unsigned int uint32_t;
# 26 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/stdint.h" 2 3 4
# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/_types/_uint64_t.h" 1 3 4
# 31 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/_types/_uint64_t.h" 3 4
typedef unsigned long long uint64_t;
# 27 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/stdint.h" 2 3 4


typedef int8_t int_least8_t;
typedef int16_t int_least16_t;
typedef int32_t int_least32_t;
typedef int64_t int_least64_t;
typedef uint8_t uint_least8_t;
typedef uint16_t uint_least16_t;
typedef uint32_t uint_least32_t;
typedef uint64_t uint_least64_t;



typedef int8_t int_fast8_t;
typedef int16_t int_fast16_t;
typedef int32_t int_fast32_t;
typedef int64_t int_fast64_t;
typedef uint8_t uint_fast8_t;
typedef uint16_t uint_fast16_t;
typedef uint32_t uint_fast32_t;
typedef uint64_t uint_fast64_t;
# 58 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/stdint.h" 3 4
# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/_types/_intmax_t.h" 1 3 4
# 32 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/_types/_intmax_t.h" 3 4
typedef long int intmax_t;
# 59 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/stdint.h" 2 3 4
# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/_types/_uintmax_t.h" 1 3 4
# 32 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/_types/_uintmax_t.h" 3 4
typedef long unsigned int uintmax_t;
# 60 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/stdint.h" 2 3 4
# 57 "/Library/Developer/CommandLineTools/usr/lib/clang/17/include/stdint.h" 2 3 4
# 73 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/resource.h" 2 3 4


# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/Availability.h" 1 3 4
# 76 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/resource.h" 2 3 4




# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/_types/_timeval.h" 1 3 4
# 34 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/_types/_timeval.h" 3 4
struct timeval
{
 __darwin_time_t tv_sec;
 __darwin_suseconds_t tv_usec;
};
# 81 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/resource.h" 2 3 4








typedef __uint64_t rlim_t;
# 152 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/resource.h" 3 4
struct rusage {
 struct timeval ru_utime;
 struct timeval ru_stime;
# 163 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/resource.h" 3 4
 long ru_maxrss;

 long ru_ixrss;
 long ru_idrss;
 long ru_isrss;
 long ru_minflt;
 long ru_majflt;
 long ru_nswap;
 long ru_inblock;
 long ru_oublock;
 long ru_msgsnd;
 long ru_msgrcv;
 long ru_nsignals;
 long ru_nvcsw;
 long ru_nivcsw;


};
# 200 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/resource.h" 3 4
typedef void *rusage_info_t;

struct rusage_info_v0 {
 uint8_t ri_uuid[16];
 uint64_t ri_user_time;
 uint64_t ri_system_time;
 uint64_t ri_pkg_idle_wkups;
 uint64_t ri_interrupt_wkups;
 uint64_t ri_pageins;
 uint64_t ri_wired_size;
 uint64_t ri_resident_size;
 uint64_t ri_phys_footprint;
 uint64_t ri_proc_start_abstime;
 uint64_t ri_proc_exit_abstime;
};

struct rusage_info_v1 {
 uint8_t ri_uuid[16];
 uint64_t ri_user_time;
 uint64_t ri_system_time;
 uint64_t ri_pkg_idle_wkups;
 uint64_t ri_interrupt_wkups;
 uint64_t ri_pageins;
 uint64_t ri_wired_size;
 uint64_t ri_resident_size;
 uint64_t ri_phys_footprint;
 uint64_t ri_proc_start_abstime;
 uint64_t ri_proc_exit_abstime;
 uint64_t ri_child_user_time;
 uint64_t ri_child_system_time;
 uint64_t ri_child_pkg_idle_wkups;
 uint64_t ri_child_interrupt_wkups;
 uint64_t ri_child_pageins;
 uint64_t ri_child_elapsed_abstime;
};

struct rusage_info_v2 {
 uint8_t ri_uuid[16];
 uint64_t ri_user_time;
 uint64_t ri_system_time;
 uint64_t ri_pkg_idle_wkups;
 uint64_t ri_interrupt_wkups;
 uint64_t ri_pageins;
 uint64_t ri_wired_size;
 uint64_t ri_resident_size;
 uint64_t ri_phys_footprint;
 uint64_t ri_proc_start_abstime;
 uint64_t ri_proc_exit_abstime;
 uint64_t ri_child_user_time;
 uint64_t ri_child_system_time;
 uint64_t ri_child_pkg_idle_wkups;
 uint64_t ri_child_interrupt_wkups;
 uint64_t ri_child_pageins;
 uint64_t ri_child_elapsed_abstime;
 uint64_t ri_diskio_bytesread;
 uint64_t ri_diskio_byteswritten;
};

struct rusage_info_v3 {
 uint8_t ri_uuid[16];
 uint64_t ri_user_time;
 uint64_t ri_system_time;
 uint64_t ri_pkg_idle_wkups;
 uint64_t ri_interrupt_wkups;
 uint64_t ri_pageins;
 uint64_t ri_wired_size;
 uint64_t ri_resident_size;
 uint64_t ri_phys_footprint;
 uint64_t ri_proc_start_abstime;
 uint64_t ri_proc_exit_abstime;
 uint64_t ri_child_user_time;
 uint64_t ri_child_system_time;
 uint64_t ri_child_pkg_idle_wkups;
 uint64_t ri_child_interrupt_wkups;
 uint64_t ri_child_pageins;
 uint64_t ri_child_elapsed_abstime;
 uint64_t ri_diskio_bytesread;
 uint64_t ri_diskio_byteswritten;
 uint64_t ri_cpu_time_qos_default;
 uint64_t ri_cpu_time_qos_maintenance;
 uint64_t ri_cpu_time_qos_background;
 uint64_t ri_cpu_time_qos_utility;
 uint64_t ri_cpu_time_qos_legacy;
 uint64_t ri_cpu_time_qos_user_initiated;
 uint64_t ri_cpu_time_qos_user_interactive;
 uint64_t ri_billed_system_time;
 uint64_t ri_serviced_system_time;
};

struct rusage_info_v4 {
 uint8_t ri_uuid[16];
 uint64_t ri_user_time;
 uint64_t ri_system_time;
 uint64_t ri_pkg_idle_wkups;
 uint64_t ri_interrupt_wkups;
 uint64_t ri_pageins;
 uint64_t ri_wired_size;
 uint64_t ri_resident_size;
 uint64_t ri_phys_footprint;
 uint64_t ri_proc_start_abstime;
 uint64_t ri_proc_exit_abstime;
 uint64_t ri_child_user_time;
 uint64_t ri_child_system_time;
 uint64_t ri_child_pkg_idle_wkups;
 uint64_t ri_child_interrupt_wkups;
 uint64_t ri_child_pageins;
 uint64_t ri_child_elapsed_abstime;
 uint64_t ri_diskio_bytesread;
 uint64_t ri_diskio_byteswritten;
 uint64_t ri_cpu_time_qos_default;
 uint64_t ri_cpu_time_qos_maintenance;
 uint64_t ri_cpu_time_qos_background;
 uint64_t ri_cpu_time_qos_utility;
 uint64_t ri_cpu_time_qos_legacy;
 uint64_t ri_cpu_time_qos_user_initiated;
 uint64_t ri_cpu_time_qos_user_interactive;
 uint64_t ri_billed_system_time;
 uint64_t ri_serviced_system_time;
 uint64_t ri_logical_writes;
 uint64_t ri_lifetime_max_phys_footprint;
 uint64_t ri_instructions;
 uint64_t ri_cycles;
 uint64_t ri_billed_energy;
 uint64_t ri_serviced_energy;
 uint64_t ri_interval_max_phys_footprint;
 uint64_t ri_runnable_time;
};

struct rusage_info_v5 {
 uint8_t ri_uuid[16];
 uint64_t ri_user_time;
 uint64_t ri_system_time;
 uint64_t ri_pkg_idle_wkups;
 uint64_t ri_interrupt_wkups;
 uint64_t ri_pageins;
 uint64_t ri_wired_size;
 uint64_t ri_resident_size;
 uint64_t ri_phys_footprint;
 uint64_t ri_proc_start_abstime;
 uint64_t ri_proc_exit_abstime;
 uint64_t ri_child_user_time;
 uint64_t ri_child_system_time;
 uint64_t ri_child_pkg_idle_wkups;
 uint64_t ri_child_interrupt_wkups;
 uint64_t ri_child_pageins;
 uint64_t ri_child_elapsed_abstime;
 uint64_t ri_diskio_bytesread;
 uint64_t ri_diskio_byteswritten;
 uint64_t ri_cpu_time_qos_default;
 uint64_t ri_cpu_time_qos_maintenance;
 uint64_t ri_cpu_time_qos_background;
 uint64_t ri_cpu_time_qos_utility;
 uint64_t ri_cpu_time_qos_legacy;
 uint64_t ri_cpu_time_qos_user_initiated;
 uint64_t ri_cpu_time_qos_user_interactive;
 uint64_t ri_billed_system_time;
 uint64_t ri_serviced_system_time;
 uint64_t ri_logical_writes;
 uint64_t ri_lifetime_max_phys_footprint;
 uint64_t ri_instructions;
 uint64_t ri_cycles;
 uint64_t ri_billed_energy;
 uint64_t ri_serviced_energy;
 uint64_t ri_interval_max_phys_footprint;
 uint64_t ri_runnable_time;
 uint64_t ri_flags;
};

struct rusage_info_v6 {
 uint8_t ri_uuid[16];
 uint64_t ri_user_time;
 uint64_t ri_system_time;
 uint64_t ri_pkg_idle_wkups;
 uint64_t ri_interrupt_wkups;
 uint64_t ri_pageins;
 uint64_t ri_wired_size;
 uint64_t ri_resident_size;
 uint64_t ri_phys_footprint;
 uint64_t ri_proc_start_abstime;
 uint64_t ri_proc_exit_abstime;
 uint64_t ri_child_user_time;
 uint64_t ri_child_system_time;
 uint64_t ri_child_pkg_idle_wkups;
 uint64_t ri_child_interrupt_wkups;
 uint64_t ri_child_pageins;
 uint64_t ri_child_elapsed_abstime;
 uint64_t ri_diskio_bytesread;
 uint64_t ri_diskio_byteswritten;
 uint64_t ri_cpu_time_qos_default;
 uint64_t ri_cpu_time_qos_maintenance;
 uint64_t ri_cpu_time_qos_background;
 uint64_t ri_cpu_time_qos_utility;
 uint64_t ri_cpu_time_qos_legacy;
 uint64_t ri_cpu_time_qos_user_initiated;
 uint64_t ri_cpu_time_qos_user_interactive;
 uint64_t ri_billed_system_time;
 uint64_t ri_serviced_system_time;
 uint64_t ri_logical_writes;
 uint64_t ri_lifetime_max_phys_footprint;
 uint64_t ri_instructions;
 uint64_t ri_cycles;
 uint64_t ri_billed_energy;
 uint64_t ri_serviced_energy;
 uint64_t ri_interval_max_phys_footprint;
 uint64_t ri_runnable_time;
 uint64_t ri_flags;
 uint64_t ri_user_ptime;
 uint64_t ri_system_ptime;
 uint64_t ri_pinstructions;
 uint64_t ri_pcycles;
 uint64_t ri_energy_nj;
 uint64_t ri_penergy_nj;
 uint64_t ri_secure_time_in_system;
 uint64_t ri_secure_ptime_in_system;
 uint64_t ri_neural_footprint;
 uint64_t ri_lifetime_max_neural_footprint;
 uint64_t ri_interval_max_neural_footprint;
 uint64_t ri_reserved[9];
};

typedef struct rusage_info_v6 rusage_info_current;
# 464 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/resource.h" 3 4
struct rlimit {
 rlim_t rlim_cur;
 rlim_t rlim_max;
};
# 499 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/resource.h" 3 4
struct proc_rlimit_control_wakeupmon {
 uint32_t wm_flags;
 int32_t wm_rate;
};
# 571 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/resource.h" 3 4
int getpriority(int, id_t);

int getiopolicy_np(int, int) __attribute__((availability(macosx,introduced=10.5)));

int getrlimit(int, struct rlimit *) __asm("_" "getrlimit" );
int getrusage(int, struct rusage *);
int setpriority(int, id_t, int);

int setiopolicy_np(int, int, int) __attribute__((availability(macosx,introduced=10.5)));

int setrlimit(int, const struct rlimit *) __asm("_" "setrlimit" );
# 111 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/wait.h" 2 3 4
# 186 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/wait.h" 3 4
# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/machine/endian.h" 1 3 4
# 37 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/machine/endian.h" 3 4
# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/arm/endian.h" 1 3 4
# 61 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/arm/endian.h" 3 4
# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/_endian.h" 1 3 4
# 94 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/_endian.h" 3 4
# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/machine/_endian.h" 1 3 4
# 37 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/machine/_endian.h" 3 4
# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/arm/_endian.h" 1 3 4
# 95 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/arm/_endian.h" 3 4
# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/__endian.h" 1 3 4
# 96 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/arm/_endian.h" 2 3 4
# 38 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/machine/_endian.h" 2 3 4
# 95 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/_endian.h" 2 3 4
# 131 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/_endian.h" 3 4
# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/libkern/_OSByteOrder.h" 1 3 4
# 62 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/libkern/_OSByteOrder.h" 3 4
# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/libkern/arm/_OSByteOrder.h" 1 3 4
# 48 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/libkern/arm/_OSByteOrder.h" 3 4
static inline
__uint16_t
_OSSwapInt16(
 __uint16_t _data
 )
{

 return (__uint16_t)(_data << 8 | _data >> 8);
}

static inline
__uint32_t
_OSSwapInt32(
 __uint32_t _data
 )
{

 _data = __builtin_bswap32(_data);





 return _data;
}

static inline
__uint64_t
_OSSwapInt64(
 __uint64_t _data
 )
{

 return __builtin_bswap64(_data);
# 95 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/libkern/arm/_OSByteOrder.h" 3 4
}
# 63 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/libkern/_OSByteOrder.h" 2 3 4
# 132 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/_endian.h" 2 3 4
# 62 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/arm/endian.h" 2 3 4
# 38 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/machine/endian.h" 2 3 4
# 187 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/wait.h" 2 3 4







union wait {
 int w_status;



 struct {

  unsigned int w_Termsig:7,
      w_Coredump:1,
      w_Retcode:8,
      w_Filler:16;






 } w_T;





 struct {

  unsigned int w_Stopval:8,
      w_Stopsig:8,
      w_Filler:16;





 } w_S;
};
# 246 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/wait.h" 3 4
pid_t wait(int *) __asm("_" "wait" );
pid_t waitpid(pid_t, int *, int) __asm("_" "waitpid" );

int waitid(idtype_t, id_t, siginfo_t *, int) __asm("_" "waitid" );


pid_t wait3(int *, int, struct rusage *);
pid_t wait4(pid_t, int *, int, struct rusage *);
# 71 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/_stdlib.h" 2 3 4

# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/alloca.h" 1 3 4
# 30 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/alloca.h" 3 4
# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/_types/_size_t.h" 1 3 4
# 31 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/alloca.h" 2 3 4




void * alloca(size_t __size);
# 73 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/_stdlib.h" 2 3 4
# 91 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/_stdlib.h" 3 4
# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/_types/_size_t.h" 1 3 4
# 92 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/_stdlib.h" 2 3 4


# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/_types/_ct_rune_t.h" 1 3 4
# 32 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/_types/_ct_rune_t.h" 3 4
typedef __darwin_ct_rune_t ct_rune_t;
# 95 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/_stdlib.h" 2 3 4
# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/_types/_rune_t.h" 1 3 4
# 31 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/_types/_rune_t.h" 3 4
typedef __darwin_rune_t rune_t;
# 96 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/_stdlib.h" 2 3 4


# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/_types/_wchar_t.h" 1 3 4
# 53 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/_types/_wchar_t.h" 3 4
typedef __darwin_wchar_t wchar_t;
# 99 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/_stdlib.h" 2 3 4



typedef struct {
 int quot;
 int rem;
} div_t;

typedef struct {
 long quot;
 long rem;
} ldiv_t;


typedef struct {
 long long quot;
 long long rem;
} lldiv_t;


# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/_types/_null.h" 1 3 4
# 120 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/_stdlib.h" 2 3 4
# 134 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/_stdlib.h" 3 4
extern int __mb_cur_max;




# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/malloc/_malloc.h" 1 3 4
# 33 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/malloc/_malloc.h" 3 4
# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/Availability.h" 1 3 4
# 34 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/malloc/_malloc.h" 2 3 4


# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/_types/_size_t.h" 1 3 4
# 37 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/malloc/_malloc.h" 2 3 4







# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/malloc/_malloc_type.h" 1 3 4
# 27 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/malloc/_malloc_type.h" 3 4
# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/malloc/_ptrcheck.h" 1 3 4
# 28 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/malloc/_malloc_type.h" 2 3 4


typedef unsigned long long malloc_type_id_t;




# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/Availability.h" 1 3 4
# 36 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/malloc/_malloc_type.h" 2 3 4

# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/_types/_size_t.h" 1 3 4
# 38 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/malloc/_malloc_type.h" 2 3 4
# 51 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/malloc/_malloc_type.h" 3 4
__attribute__((availability(macos,introduced=14.0))) __attribute__((availability(ios,introduced=17.0))) __attribute__((availability(tvos,introduced=17.0))) __attribute__((availability(watchos,introduced=10.0))) __attribute__((availability(visionos,introduced=1.0))) __attribute__((availability(driverkit,introduced=23.0))) void * malloc_type_malloc(size_t size, malloc_type_id_t type_id) __attribute__((__warn_unused_result__)) __attribute__((alloc_size(1)));
__attribute__((availability(macos,introduced=14.0))) __attribute__((availability(ios,introduced=17.0))) __attribute__((availability(tvos,introduced=17.0))) __attribute__((availability(watchos,introduced=10.0))) __attribute__((availability(visionos,introduced=1.0))) __attribute__((availability(driverkit,introduced=23.0))) void * malloc_type_calloc(size_t count, size_t size, malloc_type_id_t type_id) __attribute__((__warn_unused_result__)) __attribute__((alloc_size(1,2)));
__attribute__((availability(macos,introduced=14.0))) __attribute__((availability(ios,introduced=17.0))) __attribute__((availability(tvos,introduced=17.0))) __attribute__((availability(watchos,introduced=10.0))) __attribute__((availability(visionos,introduced=1.0))) __attribute__((availability(driverkit,introduced=23.0))) void malloc_type_free(void * ptr, malloc_type_id_t type_id);
__attribute__((availability(macos,introduced=14.0))) __attribute__((availability(ios,introduced=17.0))) __attribute__((availability(tvos,introduced=17.0))) __attribute__((availability(watchos,introduced=10.0))) __attribute__((availability(visionos,introduced=1.0))) __attribute__((availability(driverkit,introduced=23.0))) void * malloc_type_realloc(void * ptr, size_t size, malloc_type_id_t type_id) __attribute__((__warn_unused_result__)) __attribute__((alloc_size(2)));
__attribute__((availability(macos,introduced=14.0))) __attribute__((availability(ios,introduced=17.0))) __attribute__((availability(tvos,introduced=17.0))) __attribute__((availability(watchos,introduced=10.0))) __attribute__((availability(visionos,introduced=1.0))) __attribute__((availability(driverkit,introduced=23.0))) void * malloc_type_valloc(size_t size, malloc_type_id_t type_id) __attribute__((__warn_unused_result__)) __attribute__((alloc_size(1)));
__attribute__((availability(macos,introduced=14.0))) __attribute__((availability(ios,introduced=17.0))) __attribute__((availability(tvos,introduced=17.0))) __attribute__((availability(watchos,introduced=10.0))) __attribute__((availability(visionos,introduced=1.0))) __attribute__((availability(driverkit,introduced=23.0))) void * malloc_type_aligned_alloc(size_t alignment, size_t size, malloc_type_id_t type_id) __attribute__((__warn_unused_result__)) __attribute__((alloc_size(2)));

__attribute__((availability(macos,introduced=14.0))) __attribute__((availability(ios,introduced=17.0))) __attribute__((availability(tvos,introduced=17.0))) __attribute__((availability(watchos,introduced=10.0))) __attribute__((availability(visionos,introduced=1.0))) __attribute__((availability(driverkit,introduced=23.0))) int malloc_type_posix_memalign(void * *memptr, size_t alignment, size_t size, malloc_type_id_t type_id) ;




typedef struct _malloc_zone_t malloc_zone_t;

__attribute__((availability(macos,introduced=14.0))) __attribute__((availability(ios,introduced=17.0))) __attribute__((availability(tvos,introduced=17.0))) __attribute__((availability(watchos,introduced=10.0))) __attribute__((availability(visionos,introduced=1.0))) __attribute__((availability(driverkit,introduced=23.0))) void * malloc_type_zone_malloc(malloc_zone_t *zone, size_t size, malloc_type_id_t type_id) __attribute__((__warn_unused_result__)) __attribute__((alloc_size(2)));
__attribute__((availability(macos,introduced=14.0))) __attribute__((availability(ios,introduced=17.0))) __attribute__((availability(tvos,introduced=17.0))) __attribute__((availability(watchos,introduced=10.0))) __attribute__((availability(visionos,introduced=1.0))) __attribute__((availability(driverkit,introduced=23.0))) void * malloc_type_zone_calloc(malloc_zone_t *zone, size_t count, size_t size, malloc_type_id_t type_id) __attribute__((__warn_unused_result__)) __attribute__((alloc_size(2,3)));
__attribute__((availability(macos,introduced=14.0))) __attribute__((availability(ios,introduced=17.0))) __attribute__((availability(tvos,introduced=17.0))) __attribute__((availability(watchos,introduced=10.0))) __attribute__((availability(visionos,introduced=1.0))) __attribute__((availability(driverkit,introduced=23.0))) void malloc_type_zone_free(malloc_zone_t *zone, void * ptr, malloc_type_id_t type_id);
__attribute__((availability(macos,introduced=14.0))) __attribute__((availability(ios,introduced=17.0))) __attribute__((availability(tvos,introduced=17.0))) __attribute__((availability(watchos,introduced=10.0))) __attribute__((availability(visionos,introduced=1.0))) __attribute__((availability(driverkit,introduced=23.0))) void * malloc_type_zone_realloc(malloc_zone_t *zone, void * ptr, size_t size, malloc_type_id_t type_id) __attribute__((__warn_unused_result__)) __attribute__((alloc_size(3)));
__attribute__((availability(macos,introduced=14.0))) __attribute__((availability(ios,introduced=17.0))) __attribute__((availability(tvos,introduced=17.0))) __attribute__((availability(watchos,introduced=10.0))) __attribute__((availability(visionos,introduced=1.0))) __attribute__((availability(driverkit,introduced=23.0))) void * malloc_type_zone_valloc(malloc_zone_t *zone, size_t size, malloc_type_id_t type_id) __attribute__((__warn_unused_result__)) __attribute__((alloc_size(2)));
__attribute__((availability(macos,introduced=14.0))) __attribute__((availability(ios,introduced=17.0))) __attribute__((availability(tvos,introduced=17.0))) __attribute__((availability(watchos,introduced=10.0))) __attribute__((availability(visionos,introduced=1.0))) __attribute__((availability(driverkit,introduced=23.0))) void * malloc_type_zone_memalign(malloc_zone_t *zone, size_t alignment, size_t size, malloc_type_id_t type_id) __attribute__((__warn_unused_result__)) __attribute__((alloc_size(3)));
# 45 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/malloc/_malloc.h" 2 3 4
# 54 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/malloc/_malloc.h" 3 4
void * malloc(size_t __size) __attribute__((__warn_unused_result__)) __attribute__((alloc_size(1))) ;
void * calloc(size_t __count, size_t __size) __attribute__((__warn_unused_result__)) __attribute__((alloc_size(1,2))) ;
void free(void * );
void * realloc(void * __ptr, size_t __size) __attribute__((__warn_unused_result__)) __attribute__((alloc_size(2))) ;
void * reallocf(void * __ptr, size_t __size) __attribute__((__warn_unused_result__)) __attribute__((alloc_size(2)));

void * valloc(size_t __size) __attribute__((__warn_unused_result__)) __attribute__((alloc_size(1))) ;




void * aligned_alloc(size_t __alignment, size_t __size) __attribute__((__warn_unused_result__)) __attribute__((alloc_align(1))) __attribute__((alloc_size(2))) __attribute__((availability(macosx,introduced=10.15))) __attribute__((availability(ios,introduced=13.0))) __attribute__((availability(tvos,introduced=13.0))) __attribute__((availability(watchos,introduced=6.0)));


int posix_memalign(void * *__memptr, size_t __alignment, size_t __size) __attribute__((availability(macosx,introduced=10.6)));
# 140 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/_stdlib.h" 2 3 4
# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/_abort.h" 1 3 4
# 33 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/_abort.h" 3 4
void abort(void) __attribute__((__cold__)) __attribute__((__noreturn__));
# 141 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/_stdlib.h" 2 3 4


int abs(int) __attribute__((__const__));
int atexit(void (* _Nonnull)(void));


int at_quick_exit(void (*)(void));

double atof(const char *);
int atoi(const char *);
long atol(const char *);

long long
  atoll(const char *);

void *bsearch(const void * __key, const void * __base, size_t __nel,
     size_t __width, int (* _Nonnull __compar)(const void *, const void *));

div_t div(int, int) __attribute__((__const__));
void exit(int) __attribute__((__noreturn__));

char * getenv(const char *);
long labs(long) __attribute__((__const__));
ldiv_t ldiv(long, long) __attribute__((__const__));

long long
  llabs(long long);
lldiv_t lldiv(long long, long long);


int mblen(const char * __s, size_t __n);
size_t mbstowcs(wchar_t * restrict , const char * restrict, size_t __n);
int mbtowc(wchar_t * restrict, const char * restrict , size_t __n);

void qsort(void * __base, size_t __nel, size_t __width,
     int (* _Nonnull __compar)(const void *, const void *));


void quick_exit(int) __attribute__((__noreturn__));

int rand(void) __attribute__((__availability__(swift, unavailable, message="Use arc4random instead.")));

void srand(unsigned) __attribute__((__availability__(swift, unavailable, message="Use arc4random instead.")));
double strtod(const char *, char * *) __asm("_" "strtod" );
float strtof(const char *, char * *) __asm("_" "strtof" );
long strtol(const char *__str, char * *__endptr, int __base);
long double
  strtold(const char *, char * *);

long long
  strtoll(const char *__str, char * *__endptr, int __base);

unsigned long
  strtoul(const char *__str, char * *__endptr, int __base);

unsigned long long
  strtoull(const char *__str, char * *__endptr, int __base);


__attribute__((__availability__(swift, unavailable, message="Use posix_spawn APIs or NSTask instead. (On iOS, process spawning is unavailable.)")))
__attribute__((availability(macos,introduced=10.0))) __attribute__((availability(ios,unavailable)))
__attribute__((availability(watchos,unavailable))) __attribute__((availability(tvos,unavailable)))
int system(const char *) __asm("_" "system" );


size_t wcstombs(char * restrict , const wchar_t * restrict, size_t __n);
int wctomb(char *, wchar_t);


void _Exit(int) __attribute__((__noreturn__));
long a64l(const char *);
double drand48(void);
char * ecvt(double, int, int *restrict, int *restrict);
double erand48(unsigned short[3]);
char * fcvt(double, int, int *restrict, int *restrict);
char * gcvt(double, int, char *) ;
int getsubopt(char * *, char * const *, char * *);
int grantpt(int);

char *
  initstate(unsigned, char *, size_t __size);




long jrand48(unsigned short[3]) __attribute__((__availability__(swift, unavailable, message="Use arc4random instead.")));
char *l64a(long);
void lcong48(unsigned short[7]);
long lrand48(void) __attribute__((__availability__(swift, unavailable, message="Use arc4random instead.")));

__attribute__((__deprecated__("This function is provided for compatibility reasons only.  Due to security concerns inherent in the design of mktemp(3), it is highly recommended that you use mkstemp(3) instead.")))

char * mktemp(char *);
int mkstemp(char *);
long mrand48(void) __attribute__((__availability__(swift, unavailable, message="Use arc4random instead.")));
long nrand48(unsigned short[3]) __attribute__((__availability__(swift, unavailable, message="Use arc4random instead.")));
int posix_openpt(int);
char * ptsname(int);


int ptsname_r(int fildes, char * buffer, size_t buflen) __attribute__((availability(macos,introduced=10.13.4))) __attribute__((availability(ios,introduced=11.3))) __attribute__((availability(tvos,introduced=11.3))) __attribute__((availability(watchos,introduced=4.3)));


int putenv(char *) __asm("_" "putenv" );
long random(void) __attribute__((__availability__(swift, unavailable, message="Use arc4random instead.")));
int rand_r(unsigned *) __attribute__((__availability__(swift, unavailable, message="Use arc4random instead.")));

char * realpath(const char * restrict, char * restrict ) __asm("_" "realpath" "$DARWIN_EXTSN");



unsigned short * seed48(unsigned short[3]);
int setenv(const char * __name, const char * __value, int __overwrite) __asm("_" "setenv" );

void setkey(const char *) __asm("_" "setkey" );



char * setstate(const char *);
void srand48(long);

void srandom(unsigned);



int unlockpt(int);

int unsetenv(const char *) __asm("_" "unsetenv" );
# 277 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/_stdlib.h" 3 4
# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/_types/_dev_t.h" 1 3 4
# 31 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/_types/_dev_t.h" 3 4
typedef __darwin_dev_t dev_t;
# 278 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/_stdlib.h" 2 3 4
# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/_types/_mode_t.h" 1 3 4
# 31 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/_types/_mode_t.h" 3 4
typedef __darwin_mode_t mode_t;
# 279 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/_stdlib.h" 2 3 4



uint32_t arc4random(void);
void arc4random_addrandom(unsigned char * , int __datlen)
    __attribute__((availability(macosx,introduced=10.0))) __attribute__((availability(macosx,deprecated=10.12,message="use arc4random_stir")))
    __attribute__((availability(ios,introduced=2.0))) __attribute__((availability(ios,deprecated=10.0,message="use arc4random_stir")))
    __attribute__((availability(tvos,introduced=2.0))) __attribute__((availability(tvos,deprecated=10.0,message="use arc4random_stir")))
    __attribute__((availability(watchos,introduced=1.0))) __attribute__((availability(watchos,deprecated=3.0,message="use arc4random_stir")));
void arc4random_buf(void * __buf, size_t __nbytes) __attribute__((availability(macosx,introduced=10.7)));
void arc4random_stir(void);
uint32_t
  arc4random_uniform(uint32_t __upper_bound) __attribute__((availability(macosx,introduced=10.7)));

int atexit_b(void (^ _Nonnull)(void)) __attribute__((availability(macosx,introduced=10.6)));
# 302 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/_stdlib.h" 3 4
void *bsearch_b(const void * __key, const void * __base, size_t __nel,
     size_t __width, int (^ _Nonnull __compar)(const void *, const void *) __attribute__((__noescape__)))
     __attribute__((availability(macosx,introduced=10.6)));



char * cgetcap(char *, const char *, int);
int cgetclose(void);
int cgetent(char * *, char * *, const char *);
int cgetfirst(char * *, char * *);
int cgetmatch(const char *, const char *);
int cgetnext(char * *, char * *);
int cgetnum(char *, const char *, long *);
int cgetset(const char *);
int cgetstr(char *, const char *, char * *);
int cgetustr(char *, const char *, char * *);

int daemon(int, int) __asm("_" "daemon" ) __attribute__((availability(macosx,introduced=10.0,deprecated=10.5,message="Use posix_spawn APIs instead."))) __attribute__((availability(watchos,unavailable))) __attribute__((availability(tvos,unavailable)));
char * devname(dev_t, mode_t);
char * devname_r(dev_t, mode_t, char * buf, int len);
char * getbsize(int *, long *);
int getloadavg(double [], int __nelem);
const char
 *getprogname(void);
void setprogname(const char *);
# 336 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/_stdlib.h" 3 4
int heapsort(void * __base, size_t __nel, size_t __width,
     int (* _Nonnull __compar)(const void *, const void *));

int heapsort_b(void * __base, size_t __nel, size_t __width,
     int (^ _Nonnull __compar)(const void *, const void *) __attribute__((__noescape__)))
     __attribute__((availability(macosx,introduced=10.6)));

int mergesort(void * __base, size_t __nel, size_t __width,
     int (* _Nonnull __compar)(const void *, const void *));

int mergesort_b(void * __base, size_t __nel, size_t __width,
     int (^ _Nonnull __compar)(const void *, const void *) __attribute__((__noescape__)))
     __attribute__((availability(macosx,introduced=10.6)));

void psort(void * __base, size_t __nel, size_t __width,
     int (* _Nonnull __compar)(const void *, const void *))
     __attribute__((availability(macosx,introduced=10.6)));

void psort_b(void * __base, size_t __nel, size_t __width,
     int (^ _Nonnull __compar)(const void *, const void *) __attribute__((__noescape__)))
     __attribute__((availability(macosx,introduced=10.6)));

void psort_r(void * __base, size_t __nel, size_t __width, void *,
     int (* _Nonnull __compar)(void *, const void *, const void *))
     __attribute__((availability(macosx,introduced=10.6)));

void qsort_b(void * __base, size_t __nel, size_t __width,
     int (^ _Nonnull __compar)(const void *, const void *) __attribute__((__noescape__)))
     __attribute__((availability(macosx,introduced=10.6)));

void qsort_r(void * __base, size_t __nel, size_t __width, void *,
     int (* _Nonnull __compar)(void *, const void *, const void *));
int radixsort(const unsigned char * * __base, int __nel, const unsigned char * __table,
     unsigned __endbyte);
int rpmatch(const char *)
 __attribute__((availability(macos,introduced=10.15))) __attribute__((availability(ios,introduced=13.0))) __attribute__((availability(tvos,introduced=13.0))) __attribute__((availability(watchos,introduced=6.0)));
int sradixsort(const unsigned char * * __base, int __nel, const unsigned char * __table,
     unsigned __endbyte);
void sranddev(void);
void srandomdev(void);

long long
 strtonum(const char *__numstr, long long __minval, long long __maxval, const char * *__errstrp)
 __attribute__((availability(macos,introduced=11.0))) __attribute__((availability(ios,introduced=14.0))) __attribute__((availability(tvos,introduced=14.0))) __attribute__((availability(watchos,introduced=7.0)));

long long
  strtoq(const char *__str, char * *__endptr, int __base);
unsigned long long
  strtouq(const char *__str, char * *__endptr, int __base);

extern char * suboptarg;
# 59 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/stdlib.h" 2 3 4
# 2 "asm8086.c" 2
# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/stdio.h" 1 3 4
# 61 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/stdio.h" 3 4
# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/_stdio.h" 1 3 4
# 71 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/_stdio.h" 3 4
# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/Availability.h" 1 3 4
# 72 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/_stdio.h" 2 3 4





# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/_types/_va_list.h" 1 3 4
# 44 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/_types/_va_list.h" 3 4
typedef __darwin_va_list va_list;
# 78 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/_stdio.h" 2 3 4
# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/_types/_size_t.h" 1 3 4
# 79 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/_stdio.h" 2 3 4
# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/_types/_null.h" 1 3 4
# 80 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/_stdio.h" 2 3 4

# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/stdio.h" 1 3 4
# 43 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/stdio.h" 3 4
# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/Availability.h" 1 3 4
# 44 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/stdio.h" 2 3 4



int renameat(int, const char *, int, const char *) __attribute__((availability(macosx,introduced=10.10)));



int renamex_np(const char *, const char *, unsigned int) __attribute__((availability(macosx,introduced=10.12))) __attribute__((availability(ios,introduced=10.0))) __attribute__((availability(tvos,introduced=10.0))) __attribute__((availability(watchos,introduced=3.0)));
int renameatx_np(int, const char *, int, const char *, unsigned int) __attribute__((availability(macosx,introduced=10.12))) __attribute__((availability(ios,introduced=10.0))) __attribute__((availability(tvos,introduced=10.0))) __attribute__((availability(watchos,introduced=3.0)));
# 82 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/_stdio.h" 2 3 4
# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/_printf.h" 1 3 4
# 34 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/_printf.h" 3 4
int printf(const char * restrict, ...) __attribute__((__format__ (__printf__, 1, 2)));
# 83 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/_stdio.h" 2 3 4



typedef __darwin_off_t fpos_t;
# 97 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/_stdio.h" 3 4
struct __sbuf {
 unsigned char * _base;
 int _size;
};


struct __sFILEX;
# 131 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/_stdio.h" 3 4
typedef struct __sFILE {
 unsigned char * _p;
 int _r;
 int _w;
 short _flags;
 short _file;
 struct __sbuf _bf;
 int _lbfsize;


 void *_cookie;
 int (* _Nullable _close)(void *);
 int (* _Nullable _read) (void *, char *, int __n);
 fpos_t (* _Nullable _seek) (void *, fpos_t, int);
 int (* _Nullable _write)(void *, const char *, int __n);


 struct __sbuf _ub;
 struct __sFILEX *_extra;
 int _ur;


 unsigned char _ubuf[3];
 unsigned char _nbuf[1];


 struct __sbuf _lb;


 int _blksize;
 fpos_t _offset;
} FILE;

# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/_types/_seek_set.h" 1 3 4
# 165 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/_stdio.h" 2 3 4


extern FILE *__stdinp __attribute__((__swift_attr__("nonisolated(unsafe)")));
extern FILE *__stdoutp __attribute__((__swift_attr__("nonisolated(unsafe)")));
extern FILE *__stderrp __attribute__((__swift_attr__("nonisolated(unsafe)")));
# 232 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/_stdio.h" 3 4
void clearerr(FILE *);
int fclose(FILE *);
int feof(FILE *);
int ferror(FILE *);
int fflush(FILE *);
int fgetc(FILE *);
int fgetpos(FILE * restrict, fpos_t *);
char * fgets(char * restrict , int __size, FILE *);



FILE *fopen(const char * restrict __filename, const char * restrict __mode) __asm("_" "fopen" );

int fprintf(FILE * restrict, const char * restrict, ...) __attribute__((__format__ (__printf__, 2, 3)));
int fputc(int, FILE *);
int fputs(const char * restrict, FILE * restrict) __asm("_" "fputs" );
size_t fread(void * restrict __ptr, size_t __size, size_t __nitems, FILE * restrict __stream);
FILE *freopen(const char * restrict, const char * restrict,
     FILE * restrict) __asm("_" "freopen" );
int fscanf(FILE * restrict, const char * restrict, ...) __attribute__((__format__ (__scanf__, 2, 3)));
int fseek(FILE *, long, int);
int fsetpos(FILE *, const fpos_t *);
long ftell(FILE *);
size_t fwrite(const void * restrict __ptr, size_t __size, size_t __nitems, FILE * restrict __stream) __asm("_" "fwrite" );
int getc(FILE *);
int getchar(void);


__attribute__((__deprecated__("This function is provided for compatibility reasons only.  Due to security concerns inherent in the design of gets(3), it is highly recommended that you use fgets(3) instead.")))

char * gets(char *) ;

void perror(const char *) __attribute__((__cold__));
int putc(int, FILE *);
int putchar(int);
int puts(const char *);
int remove(const char *);
int rename (const char *__old, const char *__new);
void rewind(FILE *);
int scanf(const char * restrict, ...) __attribute__((__format__ (__scanf__, 1, 2)));
void setbuf(FILE * restrict, char * restrict );
int setvbuf(FILE * restrict, char * restrict , int, size_t __size);

__attribute__((__availability__(swift, unavailable, message="Use snprintf instead.")))


__attribute__((__deprecated__("This function is provided for compatibility reasons only.  Due to security concerns inherent in the design of sprintf(3), it is highly recommended that you use snprintf(3) instead.")))

int sprintf(char * restrict , const char * restrict, ...) __attribute__((__format__ (__printf__, 2, 3))) ;

int sscanf(const char * restrict, const char * restrict, ...) __attribute__((__format__ (__scanf__, 2, 3)));
FILE *tmpfile(void);

__attribute__((__availability__(swift, unavailable, message="Use mkstemp(3) instead.")))

__attribute__((__deprecated__("This function is provided for compatibility reasons only.  Due to security concerns inherent in the design of tmpnam(3), it is highly recommended that you use mkstemp(3) instead.")))

char * tmpnam(char *);

int ungetc(int, FILE *);
int vfprintf(FILE * restrict, const char * restrict, va_list) __attribute__((__format__ (__printf__, 2, 0)));
int vprintf(const char * restrict, va_list) __attribute__((__format__ (__printf__, 1, 0)));

__attribute__((__availability__(swift, unavailable, message="Use vsnprintf instead.")))


__attribute__((__deprecated__("This function is provided for compatibility reasons only.  Due to security concerns inherent in the design of sprintf(3), it is highly recommended that you use vsnprintf(3) instead.")))

int vsprintf(char * restrict , const char * restrict, va_list) __attribute__((__format__ (__printf__, 2, 0))) ;
# 311 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/_stdio.h" 3 4
# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/_ctermid.h" 1 3 4
# 36 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/_ctermid.h" 3 4
char * ctermid(char *);
# 312 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/_stdio.h" 2 3 4






FILE *fdopen(int, const char *) __asm("_" "fdopen" );

int fileno(FILE *);
# 331 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/_stdio.h" 3 4
int pclose(FILE *) __attribute__((__availability__(swift, unavailable, message="Use posix_spawn APIs or NSTask instead. (On iOS, process spawning is unavailable.)")));



FILE *popen(const char *, const char *) __asm("_" "popen" ) __attribute__((__availability__(swift, unavailable, message="Use posix_spawn APIs or NSTask instead. (On iOS, process spawning is unavailable.)")));
# 350 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/_stdio.h" 3 4
int __srget(FILE *);
int __svfscanf(FILE *, const char *, va_list) __attribute__((__format__ (__scanf__, 2, 0)));
int __swbuf(int, FILE *);
# 361 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/_stdio.h" 3 4
inline __attribute__ ((__always_inline__)) int __sputc(int _c, FILE *_p) {
 if (--_p->_w >= 0 || (_p->_w >= _p->_lbfsize && (char)_c != '\n'))
  return (*_p->_p++ = _c);
 else
  return (__swbuf(_c, _p));
}
# 387 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/_stdio.h" 3 4
void flockfile(FILE *);
int ftrylockfile(FILE *);
void funlockfile(FILE *);
int getc_unlocked(FILE *);
int getchar_unlocked(void);
int putc_unlocked(int, FILE *);
int putchar_unlocked(int);



int getw(FILE *);
int putw(int, FILE *);


__attribute__((__availability__(swift, unavailable, message="Use mkstemp(3) instead.")))

__attribute__((__deprecated__("This function is provided for compatibility reasons only.  Due to security concerns inherent in the design of tempnam(3), it is highly recommended that you use mkstemp(3) instead.")))

char * tempnam(const char *__dir, const char *__prefix) __asm("_" "tempnam" );
# 425 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/_stdio.h" 3 4
# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/_types/_off_t.h" 1 3 4
# 31 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/_types/_off_t.h" 3 4
typedef __darwin_off_t off_t;
# 426 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/_stdio.h" 2 3 4


int fseeko(FILE * __stream, off_t __offset, int __whence);
off_t ftello(FILE * __stream);





int snprintf(char * restrict __str, size_t __size, const char * restrict __format, ...) __attribute__((__format__ (__printf__, 3, 4)));
int vfscanf(FILE * restrict __stream, const char * restrict __format, va_list) __attribute__((__format__ (__scanf__, 2, 0)));
int vscanf(const char * restrict __format, va_list) __attribute__((__format__ (__scanf__, 1, 0)));
int vsnprintf(char * restrict __str, size_t __size, const char * restrict __format, va_list) __attribute__((__format__ (__printf__, 3, 0)));
int vsscanf(const char * restrict __str, const char * restrict __format, va_list) __attribute__((__format__ (__scanf__, 2, 0)));
# 450 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/_stdio.h" 3 4
# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/_types/_ssize_t.h" 1 3 4
# 31 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/_types/_ssize_t.h" 3 4
typedef __darwin_ssize_t ssize_t;
# 451 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/_stdio.h" 2 3 4


int dprintf(int, const char * restrict, ...) __attribute__((__format__ (__printf__, 2, 3))) __attribute__((availability(macosx,introduced=10.7)));
int vdprintf(int, const char * restrict, va_list) __attribute__((__format__ (__printf__, 2, 0))) __attribute__((availability(macosx,introduced=10.7)));
ssize_t getdelim(char * *restrict __linep, size_t * restrict __linecapp, int __delimiter, FILE * restrict __stream) __attribute__((availability(macosx,introduced=10.7)));
ssize_t getline(char * *restrict __linep, size_t * restrict __linecapp, FILE * restrict __stream) __attribute__((availability(macosx,introduced=10.7)));
FILE *fmemopen(void * restrict __buf , size_t __size, const char * restrict __mode) __attribute__((availability(macos,introduced=10.13))) __attribute__((availability(ios,introduced=11.0))) __attribute__((availability(tvos,introduced=11.0))) __attribute__((availability(watchos,introduced=4.0)));
FILE *open_memstream(char * *__bufp, size_t *__sizep) __attribute__((availability(macos,introduced=10.13))) __attribute__((availability(ios,introduced=11.0))) __attribute__((availability(tvos,introduced=11.0))) __attribute__((availability(watchos,introduced=4.0)));
# 468 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/_stdio.h" 3 4
extern const int sys_nerr;
extern const char *const sys_errlist[];

int asprintf(char * *restrict, const char * restrict, ...) __attribute__((__format__ (__printf__, 2, 3)));
char * ctermid_r(char *);
char * fgetln(FILE *, size_t *__len);
const char *fmtcheck(const char *, const char *) __attribute__((format_arg(2)));
int fpurge(FILE *);
void setbuffer(FILE *, char *, int __size);
int setlinebuf(FILE *);
int vasprintf(char * *restrict, const char * restrict, va_list) __attribute__((__format__ (__printf__, 2, 0)));





FILE *funopen(const void *,
     int (* _Nullable)(void *, char *, int __n),
     int (* _Nullable)(void *, const char *, int __n),
     fpos_t (* _Nullable)(void *, fpos_t, int),
     int (* _Nullable)(void *));
# 503 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/_stdio.h" 3 4
# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/secure/_stdio.h" 1 3 4
# 32 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/secure/_stdio.h" 3 4
# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/secure/_common.h" 1 3 4
# 33 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/secure/_stdio.h" 2 3 4
# 45 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/secure/_stdio.h" 3 4
extern int __sprintf_chk (char * restrict , int, size_t,
     const char * restrict, ...);
# 55 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/secure/_stdio.h" 3 4
extern int __snprintf_chk (char * restrict , size_t __maxlen, int, size_t,
      const char * restrict, ...);







extern int __vsprintf_chk (char * restrict , int, size_t,
      const char * restrict, va_list);







extern int __vsnprintf_chk (char * restrict , size_t __maxlen, int, size_t,
       const char * restrict, va_list);
# 504 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/_stdio.h" 2 3 4
# 62 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/stdio.h" 2 3 4
# 3 "asm8086.c" 2
# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/assert.h" 1 3 4
# 58 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/assert.h" 3 4
# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/_assert.h" 1 3 4
# 63 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/_assert.h" 3 4
void __assert_rtn(const char *, const char *, int, const char *) __attribute__((__noreturn__)) __attribute__((__cold__)) __attribute__((__disable_tail_calls__));
# 59 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/assert.h" 2 3 4
# 84 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/assert.h" 3 4
# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/_static_assert.h" 1 3 4
# 85 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/assert.h" 2 3 4
# 4 "asm8086.c" 2
# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/string.h" 1 3 4
# 58 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/string.h" 3 4
# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/_string.h" 1 3 4
# 64 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/_string.h" 3 4
# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/Availability.h" 1 3 4
# 65 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/_string.h" 2 3 4
# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/_types/_size_t.h" 1 3 4
# 66 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/_string.h" 2 3 4
# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/_types/_null.h" 1 3 4
# 67 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/_string.h" 2 3 4






void *
  memchr(const void * __s, int __c, size_t __n);
int memcmp(const void * __s1, const void * __s2,
  size_t __n);
void *
  memcpy(void * __dst, const void * __src,
  size_t __n);
void *
  memmove(void * __dst,
  const void * __src, size_t __len);
void *
  memset(void * __b, int __c, size_t __len);
char *
  strcat(char * __s1, const char *__s2)
                                  ;
char * strchr(const char *__s, int __c);
int strcmp(const char *__s1, const char *__s2);
int strcoll(const char *__s1, const char *__s2);
char *
  strcpy(char * __dst, const char *__src)
                                  ;
size_t strcspn(const char *__s, const char *__charset);
char * strerror(int __errnum) __asm("_" "strerror" );
size_t strlen(const char *__s);
char *
  strncat(char * __s1,
  const char * __s2, size_t __n)
                                  ;
int strncmp(const char * __s1,
  const char * __s2, size_t __n);
char *
  strncpy(char * __dst,
        const char * __src, size_t __n)
                                        ;
char * strpbrk(const char *__s, const char *__charset);
char * strrchr(const char *__s, int __c);
size_t strspn(const char *__s, const char *__charset);
char * strstr(const char *__big, const char *__little);
char * strtok(char * __str, const char *__sep);
size_t strxfrm(char * __s1, const char *__s2, size_t __n);
# 125 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/_string.h" 3 4
char *
        strtok_r(char * __str, const char *__sep,
        char * *__lasts);
# 139 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/_string.h" 3 4
int strerror_r(int __errnum, char * __strerrbuf,
        size_t __buflen);
char * strdup(const char *__s1);
void *
        memccpy(void * __dst, const void * __src,
        int __c, size_t __n);
# 156 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/_string.h" 3 4
char *
        stpcpy(char * __dst, const char *__src) ;
char *
        stpncpy(char * __dst,
        const char * __src, size_t __n)
        __attribute__((availability(macosx,introduced=10.7)))
                                        ;
char * strndup(const char * __s1, size_t __n) __attribute__((availability(macosx,introduced=10.7)));
size_t strnlen(const char * __s1, size_t __n) __attribute__((availability(macosx,introduced=10.7)));
char * strsignal(int __sig);
# 186 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/_string.h" 3 4
void *
        memmem(const void * __big, size_t __big_len,
        const void * __little, size_t __little_len) __attribute__((availability(macosx,introduced=10.7)));
void memset_pattern4(void * __b, const void * __pattern4, size_t __len) __attribute__((availability(macosx,introduced=10.5)));
void memset_pattern8(void * __b, const void * __pattern8, size_t __len) __attribute__((availability(macosx,introduced=10.5)));
void memset_pattern16(void * __b, const void * __pattern16, size_t __len) __attribute__((availability(macosx,introduced=10.5)));

char *
        strcasestr(const char *__big, const char *__little);
__attribute__((availability(macosx,introduced=15.4))) __attribute__((availability(ios,introduced=18.4)))
__attribute__((availability(tvos,introduced=18.4))) __attribute__((availability(watchos,introduced=11.4)))
char *
        strchrnul(const char *__s, int __c);
char *
        strnstr(const char * __big, const char *__little, size_t __len);
size_t strlcat(char * __dst, const char *__source, size_t __size);
size_t strlcpy(char * __dst, const char *__source, size_t __size);
void strmode(int __mode, char * __bp);
char *
        strsep(char * *__stringp, const char *__delim);


void swab(const void * restrict, void * restrict, ssize_t __len);

__attribute__((availability(macosx,introduced=10.12.1))) __attribute__((availability(ios,introduced=10.1)))
__attribute__((availability(tvos,introduced=10.0.1))) __attribute__((availability(watchos,introduced=3.1)))
int timingsafe_bcmp(const void * __b1, const void * __b2, size_t __len);

__attribute__((availability(macosx,introduced=11.0))) __attribute__((availability(ios,introduced=14.0)))
__attribute__((availability(tvos,introduced=14.0))) __attribute__((availability(watchos,introduced=7.0)))
int strsignal_r(int __sig, char * __strsignalbuf, size_t __buflen);





# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/_strings.h" 1 3 4
# 65 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/_strings.h" 3 4
# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/Availability.h" 1 3 4
# 66 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/_strings.h" 2 3 4
# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/_types/_size_t.h" 1 3 4
# 67 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/_strings.h" 2 3 4






int bcmp(const void *, const void *, size_t __n) ;
void bcopy(const void *, void *, size_t __n) ;
void bzero(void *, size_t __n) ;
char * index(const char *, int) ;
char * rindex(const char *, int) ;


int ffs(int);
int strcasecmp(const char *, const char *);
int strncasecmp(const char *, const char *, size_t);





int ffsl(long) __attribute__((availability(macosx,introduced=10.5)));
int ffsll(long long) __attribute__((availability(macosx,introduced=10.9)));
int fls(int) __attribute__((availability(macosx,introduced=10.5)));
int flsl(long) __attribute__((availability(macosx,introduced=10.5)));
int flsll(long long) __attribute__((availability(macosx,introduced=10.9)));





# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/secure/_strings.h" 1 3 4
# 32 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/secure/_strings.h" 3 4
# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/Availability.h" 1 3 4
# 33 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/secure/_strings.h" 2 3 4
# 99 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/_strings.h" 2 3 4
# 223 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/_string.h" 2 3 4





# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/secure/_string.h" 1 3 4
# 32 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/secure/_string.h" 3 4
# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/Availability.h" 1 3 4
# 33 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/secure/_string.h" 2 3 4
# 229 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/_string.h" 2 3 4
# 59 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/string.h" 2 3 4
# 5 "asm8086.c" 2

# 1 "./asm8086.h" 1




# 1 "/Library/Developer/CommandLineTools/usr/lib/clang/17/include/stdbool.h" 1 3
# 6 "./asm8086.h" 2

# 1 "./asm8086_tables.h" 1
# 8 "./asm8086.h" 2
# 21 "./asm8086.h"
typedef uint8_t u8;
typedef uint16_t u16;
typedef uint32_t u32;
typedef uint64_t u64;

enum IdLexTok0
{
    TOK0_NONE,


    TOK0_BITS, TOK0_MNEMONIC, TOK0_REG_GEN, TOK0_REG_SEG, TOK0_PREFIX, TOK0_OPR_MATH, TOK0_OPR_SIZE, TOK0_LABEL, TOK0_NUM, TOK0_COLON, TOK0_COMMA, TOK0_LSQUARE_BR, TOK0_RSQUARE_BR, TOK0_EOL,


    TOK0_COUNT,
};

enum IdLexTok1
{
    TOK1_NONE,


    TOK1_BITS, TOK1_MOV, TOK1_PUSH, TOK1_POP, TOK1_AX, TOK1_AH, TOK1_AL, TOK1_BX, TOK1_BH, TOK1_BL, TOK1_CX, TOK1_CH, TOK1_CL, TOK1_DX, TOK1_DH, TOK1_DL, TOK1_SP, TOK1_BP, TOK1_SI, TOK1_DI, TOK1_ES, TOK1_CS, TOK1_SS, TOK1_DS, TOK1_LOCK, TOK1_REP, TOK1_REPE, TOK1_REPZ, TOK1_REPNE, TOK1_REPNZ, TOK1_PLUS, TOK1_MINUS, TOK1_BYTE, TOK1_WORD, TOK1_LABEL, TOK1_NUM, TOK1_NUM_ZERO, TOK1_COLON, TOK1_COMMA, TOK1_LSQUARE_BR, TOK1_RSQUARE_BR, TOK1_EOL,


    TOK1_COUNT,
};

enum IdLexTok0 id_lex_tok0[] = {
    TOK0_NONE,


    TOK0_BITS, TOK0_MNEMONIC, TOK0_MNEMONIC, TOK0_MNEMONIC, TOK0_REG_GEN, TOK0_REG_GEN, TOK0_REG_GEN, TOK0_REG_GEN, TOK0_REG_GEN, TOK0_REG_GEN, TOK0_REG_GEN, TOK0_REG_GEN, TOK0_REG_GEN, TOK0_REG_GEN, TOK0_REG_GEN, TOK0_REG_GEN, TOK0_REG_GEN, TOK0_REG_GEN, TOK0_REG_GEN, TOK0_REG_GEN, TOK0_REG_SEG, TOK0_REG_SEG, TOK0_REG_SEG, TOK0_REG_SEG, TOK0_PREFIX, TOK0_PREFIX, TOK0_PREFIX, TOK0_PREFIX, TOK0_PREFIX, TOK0_PREFIX, TOK0_OPR_MATH, TOK0_OPR_MATH, TOK0_OPR_SIZE, TOK0_OPR_SIZE, TOK0_LABEL, TOK0_NUM, TOK0_NUM, TOK0_COLON, TOK0_COMMA, TOK0_LSQUARE_BR, TOK0_RSQUARE_BR, TOK0_EOL,


    TOK0_COUNT,
};

enum IdLexTok1 id_lex_tok1[] = {
    TOK1_NONE,


    TOK1_BITS, TOK1_MOV, TOK1_PUSH, TOK1_POP, TOK1_AX, TOK1_AH, TOK1_AL, TOK1_BX, TOK1_BH, TOK1_BL, TOK1_CX, TOK1_CH, TOK1_CL, TOK1_DX, TOK1_DH, TOK1_DL, TOK1_SP, TOK1_BP, TOK1_SI, TOK1_DI, TOK1_ES, TOK1_CS, TOK1_SS, TOK1_DS, TOK1_LOCK, TOK1_REP, TOK1_REPE, TOK1_REPZ, TOK1_REPNE, TOK1_REPNZ, TOK1_PLUS, TOK1_MINUS, TOK1_BYTE, TOK1_WORD, TOK1_LABEL, TOK1_NUM, TOK1_NUM_ZERO, TOK1_COLON, TOK1_COMMA, TOK1_LSQUARE_BR, TOK1_RSQUARE_BR, TOK1_EOL,


    TOK1_COUNT,
};

const char *names_lex_tok1[] = {
    "none",


    "bits", "mov", "push", "pop", "ax", "ah", "al", "bx", "bh", "bl", "cx", "ch", "cl", "dx", "dh", "dl", "sp", "bp", "si", "di", "es", "cs", "ss", "ds", "lock", "rep", "repe", "repz", "repne", "repnz", "plus", "minus", "byte", "word", "label", "num", "num_zero", "colon", "comma", "lsquare_br", "rsquare_br", "eol",


    "count"
};

enum IdLexTok1 id_reg_gen[] = {

    TOK1_AL, TOK1_AX, TOK1_CL, TOK1_CX, TOK1_DL, TOK1_DX, TOK1_BL, TOK1_BX, TOK1_AH, TOK1_SP, TOK1_CH, TOK1_BP, TOK1_DH, TOK1_SI, TOK1_BH, TOK1_DI,

};

const u8 enc_reg_gen[] = {

    0b000, 0b000, 0b001, 0b001, 0b010, 0b010, 0b011, 0b011, 0b100, 0b100, 0b101, 0b101, 0b110, 0b110, 0b111, 0b111,

};

const u8 wid_reg_gen[] = {

    0b0, 0b1, 0b0, 0b1, 0b0, 0b1, 0b0, 0b1, 0b0, 0b1, 0b0, 0b1, 0b0, 0b1, 0b0, 0b1,

};

enum IdLexTok1 id_reg_seg[] = {

    TOK1_ES, TOK1_CS, TOK1_SS, TOK1_DS,

};

const u8 enc_reg_seg[] = {

    0b00, 0b01, 0b10, 0b11,

};

struct LexTokLabel
{
    char name[32];
};

struct LexTokNum
{
    long value;
};

struct LexTok
{
    enum IdLexTok0 id0;
    enum IdLexTok1 id1;
    union
    {
        struct LexTokLabel *p_label;
        struct LexTokNum *p_num;
    };
};

enum IdParserNode
{
    NODE_NONE,

    NODE_EADDR__, NODE_EADDR_, NODE_EADDR, NODE_REG_BASE, NODE_REG_IDX, NODE_SIGNED_NUM, NODE_SIGNED_ZERO, NODE_DIRECT_ADDR, NODE_LINE_, NODE_LINE, NODE_LBL, NODE_INST, NODE_MNEMONIC_, NODE_MNEMONIC, NODE_OPERAND_, NODE_OPERAND, NODE_REG_GEN, NODE_REG_SEG, NODE_PREFIX, NODE_OPR_PREFIX, NODE_OPR_MATH, NODE_OPR_SIZE, NODE_SEG_OVR, NODE_IMM,

    NODE_TERMINAL,
    NODE_COUNT,
};

enum IdParserNode id_parser_node[] = {
    NODE_NONE,

    NODE_EADDR__, NODE_EADDR_, NODE_EADDR, NODE_REG_BASE, NODE_REG_IDX, NODE_SIGNED_NUM, NODE_SIGNED_ZERO, NODE_DIRECT_ADDR, NODE_LINE_, NODE_LINE, NODE_LBL, NODE_INST, NODE_MNEMONIC_, NODE_MNEMONIC, NODE_OPERAND_, NODE_OPERAND, NODE_REG_GEN, NODE_REG_SEG, NODE_PREFIX, NODE_OPR_PREFIX, NODE_OPR_MATH, NODE_OPR_SIZE, NODE_SEG_OVR, NODE_IMM,

    NODE_TERMINAL,
    NODE_COUNT,
};

const char *names_parser_node[] = {
    "none",

    "eaddr__", "eaddr_", "eaddr", "reg_base", "reg_idx", "signed_num", "signed_zero", "direct_addr", "line_", "line", "lbl", "inst", "mnemonic_", "mnemonic", "operand_", "operand", "reg_gen", "reg_seg", "prefix", "opr_prefix", "opr_math", "opr_size", "seg_ovr", "imm",

    "terminal",
    "count",
};

struct ParserNode
{
    enum IdParserNode id;
    struct LexTok *p_tok;
};

struct EAddr
{
    enum IdLexTok1 reg_base;
    enum IdLexTok1 reg_idx;
};

struct EAddr eaddr[] = {

    {TOK1_BX, TOK1_SI}, {TOK1_BX, TOK1_DI}, {TOK1_BP, TOK1_SI}, {TOK1_BP, TOK1_DI}, {TOK1_NONE, TOK1_SI}, {TOK1_NONE, TOK1_DI}, {TOK1_BP, TOK1_NONE}, {TOK1_BX, TOK1_NONE},

};

const u8 enc_rm_eaddr[] = {

    0b000, 0b001, 0b010, 0b011, 0b100, 0b101, 0b110, 0b111,

};

enum InstFieldId
{

    INST_OPCODE1,
    INST_OPCODE2,
    INST_ImplRegD,
    INST_ImplRmD,
    INST_ImplReg,
    INST_MOD, INST_REG, INST_SR, INST_RM, INST_DISP, INST_IMM, INST_ADDR, INST_D, INST_W, INST_END,

};

struct InstField
{
    enum InstFieldId id;
    u8 value;
    u8 size;
};

struct Instruction
{
    enum IdLexTok1 id_mnemonic;
    struct InstField fields[15];
};

struct InstructionData
{
    struct ParserNode *p_eaddr__;
    struct ParserNode *p_daddr;
    struct ParserNode *p_imm;
    struct LexTok *p_comma;
    struct LexTok *p_reg_gen_dst;
    struct LexTok *p_reg_gen_src;
    enum IdLexTok1 mnemonic;
    enum IdLexTok1 reg_seg;
    enum IdLexTok1 reg_base;
    enum IdLexTok1 reg_idx;
    enum IdLexTok1 seg_ovr;
    u8 regd;
    u8 rmd;
    u8 w;
    u8 mod;
    u8 rm;
    u8 sr;
    long disp;
    long daddr;
    long imm;
    u8 operand_cnt;
};

static struct InstructionData inst_data = {0};

struct InstEnc
{
    u64 enc;
    u8 len;
};

struct Instruction inst_table[] = {


    {TOK1_MOV, {{INST_OPCODE1, 0b100010, sizeof("100010") - 1}, {INST_D, 0b0, 1}, {INST_W, 0b0, 1}, {INST_MOD, 0b0, 2}, {INST_REG, 0b0, 3}, {INST_RM, 0b0, 3}, {INST_DISP, 0b0, 0}, {INST_END, 0b0, 0}}}, {TOK1_MOV, {{INST_OPCODE1, 0b1100011, sizeof("1100011") - 1}, {INST_ImplRmD, 0b1, 0}, {INST_W, 0b0, 1}, {INST_MOD, 0b0, 2}, {INST_OPCODE2, 0b000, sizeof("000") - 1}, {INST_RM, 0b0, 3}, {INST_DISP, 0b0, 0}, {INST_IMM, 0b0, 0}, {INST_END, 0b0, 0}}}, {TOK1_MOV, {{INST_OPCODE1, 0b1011, sizeof("1011") - 1}, {INST_ImplRegD, 0b1, 0}, {INST_W, 0b0, 1}, {INST_REG, 0b0, 3}, {INST_IMM, 0b0, 0}, {INST_END, 0b0, 0}}}, {TOK1_MOV, {{INST_OPCODE1, 0b1010000, sizeof("1010000") - 1}, {INST_ImplRegD, 0b1, 0}, {INST_ImplReg, 0b000, 0}, {INST_W, 0b0, 1}, {INST_ADDR, 0b0, 0}, {INST_END, 0b0, 0}}}, {TOK1_MOV, {{INST_OPCODE1, 0b1010001, sizeof("1010001") - 1}, {INST_ImplRegD, 0b0, 0}, {INST_ImplReg, 0b000, 0}, {INST_W, 0b0, 1}, {INST_ADDR, 0b0, 0}, {INST_END, 0b0, 0}}}, {TOK1_MOV, {{INST_OPCODE1, 0b10001110, sizeof("10001110") - 1}, {INST_ImplRmD, 0b0, 0}, {INST_MOD, 0b0, 2}, {INST_OPCODE2, 0b0, sizeof("0") - 1}, {INST_SR, 0b0, 2}, {INST_RM, 0b0, 3}, {INST_DISP, 0b0, 0}, {INST_END, 0b0, 0}}}, {TOK1_MOV, {{INST_OPCODE1, 0b10001100, sizeof("10001100") - 1}, {INST_ImplRmD, 0b1, 0}, {INST_MOD, 0b0, 2}, {INST_OPCODE2, 0b0, sizeof("0") - 1}, {INST_SR, 0b0, 2}, {INST_RM, 0b0, 3}, {INST_DISP, 0b0, 0}, {INST_END, 0b0, 0}}}, {TOK1_NONE, {0}},


};
# 7 "asm8086.c" 2

# 1 "./asm8086_helper.c" 1
# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/stdlib.h" 1 3 4
# 2 "./asm8086_helper.c" 2
# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/stdio.h" 1 3 4
# 3 "./asm8086_helper.c" 2
# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/string.h" 1 3 4
# 4 "./asm8086_helper.c" 2
# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/ctype.h" 1 3 4
# 66 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/ctype.h" 3 4
# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/_ctype.h" 1 3 4
# 72 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/_ctype.h" 3 4
# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/runetype.h" 1 3 4
# 49 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/runetype.h" 3 4
# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/_types/_size_t.h" 1 3 4
# 50 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/runetype.h" 2 3 4


# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/_types/_wchar_t.h" 1 3 4
# 53 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/runetype.h" 2 3 4
# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/_types/_wint_t.h" 1 3 4
# 32 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/_types/_wint_t.h" 3 4
typedef __darwin_wint_t wint_t;
# 54 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/runetype.h" 2 3 4
# 63 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/runetype.h" 3 4
typedef struct {
 __darwin_rune_t __min;
 __darwin_rune_t __max;
 __darwin_rune_t __map;
 __uint32_t * __types;
} _RuneEntry;

typedef struct {
 int __nranges;
 _RuneEntry * __ranges;
} _RuneRange;

typedef struct {
 char __name[14];
 __uint32_t __mask;
} _RuneCharClass;

typedef struct {
 char __magic[8];
 char __encoding[32];

 __darwin_rune_t (*__sgetrune)(const char * __string, __darwin_size_t __n, char const * *);
 int (*__sputrune)(__darwin_rune_t, char * __string, __darwin_size_t __n, char * *);
 __darwin_rune_t __invalid_rune;

 __uint32_t __runetype[(1 <<8 )];
 __darwin_rune_t __maplower[(1 <<8 )];
 __darwin_rune_t __mapupper[(1 <<8 )];






 _RuneRange __runetype_ext;
 _RuneRange __maplower_ext;
 _RuneRange __mapupper_ext;

 void * __variable;
 int __variable_len;




 int __ncharclasses;
 _RuneCharClass * __charclasses;
} _RuneLocale;




extern _RuneLocale _DefaultRuneLocale;
extern _RuneLocale *_CurrentRuneLocale;
# 73 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/_ctype.h" 2 3 4
# 134 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/_ctype.h" 3 4
unsigned long ___runetype(__darwin_ct_rune_t);
__darwin_ct_rune_t ___tolower(__darwin_ct_rune_t);
__darwin_ct_rune_t ___toupper(__darwin_ct_rune_t);


inline int
isascii(int _c)
{
 return ((_c & ~0x7F) == 0);
}
# 153 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/_ctype.h" 3 4
int __maskrune(__darwin_ct_rune_t, unsigned long);



inline int
__istype(__darwin_ct_rune_t _c, unsigned long _f)
{



 return (isascii(_c) ? !!(_DefaultRuneLocale.__runetype[_c] & _f)
  : !!__maskrune(_c, _f));

}

inline __darwin_ct_rune_t
__isctype(__darwin_ct_rune_t _c, unsigned long _f)
{



 return (_c < 0 || _c >= (1 <<8 )) ? 0 :
  !!(_DefaultRuneLocale.__runetype[_c] & _f);

}
# 193 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/_ctype.h" 3 4
__darwin_ct_rune_t __toupper(__darwin_ct_rune_t);
__darwin_ct_rune_t __tolower(__darwin_ct_rune_t);



inline int
__wcwidth(__darwin_ct_rune_t _c)
{
 unsigned int _x;

 if (_c == 0)
  return (0);
 _x = (unsigned int)__maskrune(_c, 0xe0000000L|0x00040000L);
 if ((_x & 0xe0000000L) != 0)
  return ((_x & 0xe0000000L) >> 30);
 return ((_x & 0x00040000L) != 0 ? 1 : -1);
}






inline int
isalnum(int _c)
{
 return (__istype(_c, 0x00000100L|0x00000400L));
}

inline int
isalpha(int _c)
{
 return (__istype(_c, 0x00000100L));
}

inline int
isblank(int _c)
{
 return (__istype(_c, 0x00020000L));
}

inline int
iscntrl(int _c)
{
 return (__istype(_c, 0x00000200L));
}


inline int
isdigit(int _c)
{
 return (__isctype(_c, 0x00000400L));
}

inline int
isgraph(int _c)
{
 return (__istype(_c, 0x00000800L));
}

inline int
islower(int _c)
{
 return (__istype(_c, 0x00001000L));
}

inline int
isprint(int _c)
{
 return (__istype(_c, 0x00040000L));
}

inline int
ispunct(int _c)
{
 return (__istype(_c, 0x00002000L));
}

inline int
isspace(int _c)
{
 return (__istype(_c, 0x00004000L));
}

inline int
isupper(int _c)
{
 return (__istype(_c, 0x00008000L));
}


inline int
isxdigit(int _c)
{
 return (__isctype(_c, 0x00010000L));
}

inline int
toascii(int _c)
{
 return (_c & 0x7F);
}

inline int
tolower(int _c)
{
        return (__tolower(_c));
}

inline int
toupper(int _c)
{
        return (__toupper(_c));
}


inline int
digittoint(int _c)
{
 return (__maskrune(_c, 0x0F));
}

inline int
ishexnumber(int _c)
{
 return (__istype(_c, 0x00010000L));
}

inline int
isideogram(int _c)
{
 return (__istype(_c, 0x00080000L));
}

inline int
isnumber(int _c)
{
 return (__istype(_c, 0x00000400L));
}

inline int
isphonogram(int _c)
{
 return (__istype(_c, 0x00200000L));
}

inline int
isrune(int _c)
{
 return (__istype(_c, 0xFFFFFFF0L));
}

inline int
isspecial(int _c)
{
 return (__istype(_c, 0x00100000L));
}
# 67 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/ctype.h" 2 3 4
# 5 "./asm8086_helper.c" 2


# 1 "./asm8086_helper.h" 1





void get_basename(const char *filename, char *basename);
# 8 "./asm8086_helper.c" 2

void get_basename(const char *filename, char *basename)
{
    const char *extension = filename + strlen(filename);
    while (*extension != '.')
        extension--;

    size_t len = strlen(filename) - strlen(extension) + 1;

    __builtin___strlcpy_chk (basename, filename, len, __builtin_object_size (basename, 2 > 1 ? 1 : 0));
    __builtin___strlcat_chk (basename, ".bin", 64, __builtin_object_size (basename, 2 > 1 ? 1 : 0));
}

void write_inst_to_file(struct InstEnc inst, FILE* file)
{
    u8 bytes[6];

    for (size_t i = 0; i < inst.len; ++i)
        bytes[i] = (inst.enc >> (8 * (inst.len - i - 1))) & 0xff;

    fwrite(bytes, 1, inst.len, file);
}
# 9 "asm8086.c" 2
# 1 "./asm8086_lexer.c" 1
# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/stdlib.h" 1 3 4
# 2 "./asm8086_lexer.c" 2
# 1 "/Library/Developer/CommandLineTools/usr/lib/clang/17/include/inttypes.h" 1 3
# 24 "/Library/Developer/CommandLineTools/usr/lib/clang/17/include/inttypes.h" 3
# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/inttypes.h" 1 3 4
# 31 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/inttypes.h" 3 4
# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/_inttypes.h" 1 3 4
# 225 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/_inttypes.h" 3 4
# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/Availability.h" 1 3 4
# 226 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/_inttypes.h" 2 3 4


# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/_types/_wchar_t.h" 1 3 4
# 229 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/_inttypes.h" 2 3 4








__attribute__((availability(macosx,introduced=10.4)))
extern intmax_t
imaxabs(intmax_t j);


typedef struct {
 intmax_t quot;
 intmax_t rem;
} imaxdiv_t;

__attribute__((availability(macosx,introduced=10.4)))
extern imaxdiv_t
imaxdiv(intmax_t __numer, intmax_t __denom);


__attribute__((availability(macosx,introduced=10.4)))
extern intmax_t
strtoimax(const char * restrict __nptr,
   char * * restrict __endptr,
   int __base);

__attribute__((availability(macosx,introduced=10.4)))
extern uintmax_t
strtoumax(const char * restrict __nptr,
   char * * restrict __endptr,
   int __base);


__attribute__((availability(macosx,introduced=10.4)))
extern intmax_t
wcstoimax(const wchar_t * restrict __nptr,
   wchar_t * * restrict __endptr,
   int __base);

__attribute__((availability(macosx,introduced=10.4)))
extern uintmax_t
wcstoumax(const wchar_t * restrict __nptr,
   wchar_t * * restrict __endptr,
   int __base);
# 32 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/inttypes.h" 2 3 4
# 25 "/Library/Developer/CommandLineTools/usr/lib/clang/17/include/inttypes.h" 2 3
# 3 "./asm8086_lexer.c" 2
# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/errno.h" 1 3 4
# 23 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/errno.h" 3 4
# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/errno.h" 1 3 4
# 80 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/errno.h" 3 4
extern int * __error(void);
# 24 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/errno.h" 2 3 4
# 4 "./asm8086_lexer.c" 2

# 1 "./asm8086_lexer.h" 1



int lexer(struct LexTok **tok_spp,
          char **p_asm_buf,
          struct LexTokLabel **lbl_spp,
          struct LexTokNum **num_spp);

int lexer_line(struct LexTok **tok_spp,
               char **pp_buf,
               struct LexTokLabel **lbl_spp,
               struct LexTokNum **num_spp);

int lexer_num(char **pp_buf,
              struct LexTok **pp_tok,
              struct LexTokNum **num_spp,
              const char sign[2]);

void skip_whitespaces(char **pp_buf);
void skip_comment(char **pp_buf);
# 6 "./asm8086_lexer.c" 2


int lexer(struct LexTok **tok_spp,
          char **pp_buf,
          struct LexTokLabel **lbl_spp,
          struct LexTokNum **num_spp)
{
    for (;;)
    {
        if (**pp_buf == '\0')
        {
            break;
        }
        else if (**pp_buf == ';')
        {
            while (*((*pp_buf)++) != '\n');
            continue;
        }
        else
        {
            while(**pp_buf == ' ' || **pp_buf == '\t' || **pp_buf == '\n')
                ++(*pp_buf);
        }

        if (lexer_line(tok_spp, pp_buf, lbl_spp, num_spp))
        {
            printf("lexer_line failed\n");
            return 1;
        }
    }

    return 0;
}

int lexer_line(struct LexTok **tok_spp,
               char **pp_buf,
               struct LexTokLabel **lbl_spp,
               struct LexTokNum **num_spp)
{
    for (;;)
    {
        while (**pp_buf == ' ' || **pp_buf == '\t')
            ++(*pp_buf);

        if (**pp_buf == '\n')
        {
            (**tok_spp).id0 = TOK0_EOL;
            (**tok_spp).id1 = TOK1_EOL;
            ++(*tok_spp);
            ++(*pp_buf);

            break;
        }
        else if (isalpha(**pp_buf))
        {
            char *start = *pp_buf;
            char *end = *pp_buf;
            while (isalpha(*end))
                ++(end);

            long str_len = end - start;
            (__builtin_expect(!(str_len <= 32), 0) ? __assert_rtn(__func__, "asm8086_lexer.c", 67, "str_len <= LEN_MAX_LABEL") : (void)0);

            char str[32 + 1];
            __builtin___strlcpy_chk (str, *pp_buf, str_len + 1, __builtin_object_size (str, 2 > 1 ? 1 : 0));

            *pp_buf += str_len;

            int matched_flag = 0;
            for (size_t idx = 0; idx < (sizeof(names_lex_tok1) / sizeof(names_lex_tok1[0])); ++idx)
            {
                if (strcmp(names_lex_tok1[idx], str) == 0)
                {
                    (**tok_spp).id0 = id_lex_tok0[idx];
                    (**tok_spp).id1 = id_lex_tok1[idx];
                    ++(*tok_spp);
                    matched_flag = 1;

                    break;
                }
            }
            if (matched_flag == 0)
            {
                (**tok_spp).id0 = TOK0_LABEL;
                (**tok_spp).id1 = TOK1_LABEL;
                (**tok_spp).p_label = (*lbl_spp)++;
                __builtin___strcpy_chk ((**tok_spp).p_label -> name, str, __builtin_object_size ((**tok_spp).p_label -> name, 2 > 1 ? 1 : 0));
                ++(*tok_spp);
            }
        }
        else if (isdigit(**pp_buf))
        {
            lexer_num(pp_buf, tok_spp, num_spp, "+");
        }
        else
        {
            switch (**pp_buf)
            {
            case '+':
            {
                (**tok_spp).id0 = TOK0_OPR_MATH;
                (**tok_spp).id1 = TOK1_PLUS;
                ++(*tok_spp);
                ++(*pp_buf);

                while (**pp_buf == ' ' || **pp_buf == '\t')
                    ++(*pp_buf);

                if (isdigit(**pp_buf))
                    lexer_num(pp_buf, tok_spp, num_spp, "+");

                break;
            }
            case '-':
            {
                (**tok_spp).id0 = TOK0_OPR_MATH;
                (**tok_spp).id1 = TOK1_MINUS;
                ++(*tok_spp);
                ++(*pp_buf);

                while (**pp_buf == ' ' || **pp_buf == '\t')
                    ++(*pp_buf);

                if (isdigit(**pp_buf))
                {
                    lexer_num(pp_buf, tok_spp, num_spp, "-");
                }
                else
                {
                    printf("Error: minus sign where it should not be\n");
                    return 1;
                }

                break;
            }
            case ':':
            {
                (**tok_spp).id0 = TOK0_COLON;
                (**tok_spp).id1 = TOK1_COLON;
                ++(*tok_spp);
                ++(*pp_buf);
                break;
            }
            case ',':
            {
                (**tok_spp).id0 = TOK0_COMMA;
                (**tok_spp).id1 = TOK1_COMMA;
                ++(*tok_spp);
                ++(*pp_buf);
                break;
            }
            case '[':
            {
                (**tok_spp).id0 = TOK0_LSQUARE_BR;
                (**tok_spp).id1 = TOK1_LSQUARE_BR;
                ++(*tok_spp);
                ++(*pp_buf);
                break;
            }
            case ']':
            {
                (**tok_spp).id0 = TOK0_RSQUARE_BR;
                (**tok_spp).id1 = TOK1_RSQUARE_BR;
                ++(*tok_spp);
                ++(*pp_buf);
                break;
            }
            case ';':
            {
                while (*((*pp_buf)++) != '\n');

                (**tok_spp).id0 = TOK0_EOL;
                (**tok_spp).id1 = TOK1_EOL;
                ++(*tok_spp);
                ++(*pp_buf);
                break;
            }
            default:
            {
                printf("cannot match input with any token\n");
                return 1;
            }
            }
        }
    }

    return 0;
}

int lexer_num(char **pp_buf,
              struct LexTok **pp_tok,
              struct LexTokNum **num_spp,
              const char sign[2])
{
    char *start = *pp_buf;
    char *end = *pp_buf;
    while (isdigit(*end))
        ++(end);

    long num_str_len = end - start;
    (__builtin_expect(!(num_str_len <= 8), 0) ? __assert_rtn(__func__, "asm8086_lexer.c", 206, "num_str_len <= LEN_MAX_NUM_STR") : (void)0);

    char num_str[8 + 1];
    __builtin___strlcpy_chk (num_str, sign, num_str_len + 2, __builtin_object_size (num_str, 2 > 1 ? 1 : 0));
    __builtin___strlcat_chk (num_str, *pp_buf, num_str_len + 2, __builtin_object_size (num_str, 2 > 1 ? 1 : 0));
    long num = strtol(num_str, ((void *)0), 10);

    (__builtin_expect(!((*__error()) != 22), 0) ? __assert_rtn(__func__, "asm8086_lexer.c", 213, "errno != EINVAL") : (void)0);
    (__builtin_expect(!((*__error()) != 34), 0) ? __assert_rtn(__func__, "asm8086_lexer.c", 214, "errno != ERANGE") : (void)0);

    num = num & ((1024 * 64) - 1);

    (**pp_tok).id0 = TOK0_NUM;
    if (num == 0)
        (**pp_tok).id1 = TOK1_NUM_ZERO;
    else
        (**pp_tok).id1 = TOK1_NUM;
    (**pp_tok).p_num = (*num_spp)++;
    (**pp_tok).p_num -> value = num;

    ++(*pp_tok);
    *pp_buf += num_str_len;

    return 0;
}
# 10 "asm8086.c" 2
# 1 "./asm8086_debug.c" 1

# 1 "./asm8086_debug.h" 1





void print_tok_stack(struct LexTok *tok_stack, struct LexTok *tok_sp);
void print_node_stack(struct ParserNode *node_stack, struct ParserNode *node_sp);
# 3 "./asm8086_debug.c" 2

void print_tok_stack(struct LexTok *tok_stack, struct LexTok *tok_sp)
{
    struct LexTok *p_tok = tok_stack;
    while (p_tok != tok_sp)
    {
        printf("{%s", names_lex_tok1[p_tok -> id1]);
        if (p_tok -> id0 == TOK0_NUM)
            printf(" %ld", p_tok -> p_num -> value);
        printf("}\n");

        ++p_tok;
    }
}

void print_node_stack(struct ParserNode *node_stack, struct ParserNode *node_sp)
{
    struct ParserNode *p_node = node_stack;
    while (p_node != node_sp)
    {
        printf("{%s", names_parser_node[p_node -> id]);
        if (p_node -> id == NODE_TERMINAL)
            printf(" %s", names_lex_tok1[p_node -> p_tok -> id1]);
        printf("}\n");

        ++p_node;
    }
}
# 11 "asm8086.c" 2
# 1 "./asm8086_parser.c" 1
# 1 "/Library/Developer/CommandLineTools/usr/lib/clang/17/include/stddef.h" 1 3
# 89 "/Library/Developer/CommandLineTools/usr/lib/clang/17/include/stddef.h" 3
# 1 "/Library/Developer/CommandLineTools/usr/lib/clang/17/include/__stddef_header_macro.h" 1 3
# 90 "/Library/Developer/CommandLineTools/usr/lib/clang/17/include/stddef.h" 2 3



# 1 "/Library/Developer/CommandLineTools/usr/lib/clang/17/include/__stddef_ptrdiff_t.h" 1 3
# 18 "/Library/Developer/CommandLineTools/usr/lib/clang/17/include/__stddef_ptrdiff_t.h" 3
typedef long int ptrdiff_t;
# 94 "/Library/Developer/CommandLineTools/usr/lib/clang/17/include/stddef.h" 2 3




# 1 "/Library/Developer/CommandLineTools/usr/lib/clang/17/include/__stddef_size_t.h" 1 3
# 99 "/Library/Developer/CommandLineTools/usr/lib/clang/17/include/stddef.h" 2 3
# 108 "/Library/Developer/CommandLineTools/usr/lib/clang/17/include/stddef.h" 3
# 1 "/Library/Developer/CommandLineTools/usr/lib/clang/17/include/__stddef_wchar_t.h" 1 3
# 109 "/Library/Developer/CommandLineTools/usr/lib/clang/17/include/stddef.h" 2 3




# 1 "/Library/Developer/CommandLineTools/usr/lib/clang/17/include/__stddef_null.h" 1 3
# 114 "/Library/Developer/CommandLineTools/usr/lib/clang/17/include/stddef.h" 2 3
# 133 "/Library/Developer/CommandLineTools/usr/lib/clang/17/include/stddef.h" 3
# 1 "/Library/Developer/CommandLineTools/usr/lib/clang/17/include/__stddef_offsetof.h" 1 3
# 134 "/Library/Developer/CommandLineTools/usr/lib/clang/17/include/stddef.h" 2 3
# 2 "./asm8086_parser.c" 2

# 1 "./asm8086_parser.h" 1





# 1 "./asm8086_parser.h" 1
# 7 "./asm8086_parser.h" 2

int parser_line_(struct ParserNode **pp_node, struct LexTok **pp_tok);
int parser_line(struct ParserNode **pp_node, struct LexTok **pp_tok);
int parser_lbl(struct ParserNode **pp_node, struct LexTok **pp_tok);
int parser_inst(struct ParserNode **pp_node, struct LexTok **pp_tok);
int parser_mnemonic_(struct ParserNode **pp_node, struct LexTok **pp_tok);
int parser_operand_(struct ParserNode **pp_node, struct LexTok **pp_tok);
int parser_opr_prefix(struct ParserNode **pp_node, struct LexTok **pp_tok);
int parser_opr_size(struct ParserNode **pp_node, struct LexTok **pp_tok);
int parser_seg_ovr(struct ParserNode **pp_node, struct LexTok **pp_tok);
int parser_operand(struct ParserNode **pp_node, struct LexTok **pp_tok);
int parser_reg_gen(struct ParserNode **pp_node, struct LexTok **pp_tok);
int parser_reg_seg(struct ParserNode **pp_node, struct LexTok **pp_tok);
int parser_imm(struct ParserNode **pp_node, struct LexTok **pp_tok);
int parser_opr_math(struct ParserNode **pp_node, struct LexTok **pp_tok);
int parser_prefix(struct ParserNode **pp_node, struct LexTok **pp_tok);
int parser_mnemonic(struct ParserNode **pp_node, struct LexTok **pp_tok);
int parser_eaddr__(struct ParserNode **pp_node, struct LexTok **pp_tok);
int parser_eaddr_(struct ParserNode **pp_node, struct LexTok **pp_tok);
int parser_eaddr(struct ParserNode **pp_node, struct LexTok **pp_tok);
int parser_direct_addr(struct ParserNode **pp_node, struct LexTok **pp_tok);
int parser_signed_num(struct ParserNode **pp_node, struct LexTok **pp_tok);
int parser_signed_zero(struct ParserNode **pp_node, struct LexTok **pp_tok);
int parser_reg_base(struct ParserNode **pp_node, struct LexTok **pp_tok);
int parser_reg_idx(struct ParserNode **pp_node, struct LexTok **pp_tok);

void parser_add_terminal(struct ParserNode **pp_node,
                         struct LexTok **pp_tok);

void parser_backtrack(struct ParserNode **pp_node,
                      struct ParserNode *p_reset_node,
                      struct LexTok **pp_tok,
                      struct LexTok *p_reset_tok);

void store_mod(void);
void store_rm(void);
# 4 "./asm8086_parser.c" 2


void parser_add_terminal(struct ParserNode **pp_node,
                         struct LexTok **pp_tok)
{
    (**pp_node).id = NODE_TERMINAL;
    (**pp_node).p_tok = *pp_tok;
    ++(*pp_node);
    ++(*pp_tok);
}

void parser_backtrack(struct ParserNode **pp_node,
                      struct ParserNode *p_reset_node,
                      struct LexTok **pp_tok,
                      struct LexTok *p_reset_tok)
{
    *pp_node = p_reset_node;
    *pp_tok = p_reset_tok;
}

int parser_line_(struct ParserNode **pp_node, struct LexTok **pp_tok)
{
    struct ParserNode *p_reset_node = *pp_node;
    struct LexTok *p_reset_tok = *pp_tok;

    (*((*pp_node)++)).id = NODE_LINE_;

    if (parser_line(pp_node, pp_tok) == 0)
    {
        if ((**pp_tok).id1 == TOK1_EOL)
        {
            parser_add_terminal(pp_node, pp_tok);
            return 0;
        }
    }

    parser_backtrack(pp_node, p_reset_node, pp_tok, p_reset_tok);
    return 1;
}

int parser_line(struct ParserNode **pp_node, struct LexTok **pp_tok)
{
    struct ParserNode *p_reset_node = *pp_node;
    struct LexTok *p_reset_tok = *pp_tok;

    (*((*pp_node)++)).id = NODE_LINE;

    if ((**pp_tok).id1 == TOK1_BITS)
    {
        parser_add_terminal(pp_node, pp_tok);
        if ((**pp_tok).id1 == TOK1_NUM)
        {
            parser_add_terminal(pp_node, pp_tok);
            return 0;
        }
    }

    parser_backtrack(pp_node, p_reset_node + 1, pp_tok, p_reset_tok);

    if (parser_lbl(pp_node, pp_tok) == 0)
        return 0;

    parser_backtrack(pp_node, p_reset_node + 1, pp_tok, p_reset_tok);

    if (parser_inst(pp_node, pp_tok) == 0)
        return 0;

    parser_backtrack(pp_node, p_reset_node, pp_tok, p_reset_tok);
    return 1;
}

int parser_lbl(struct ParserNode **pp_node, struct LexTok **pp_tok)
{
    struct ParserNode *p_reset_node = *pp_node;
    struct LexTok *p_reset_tok = *pp_tok;

    (*((*pp_node)++)).id = NODE_LBL;

    if ((**pp_tok).id1 == TOK1_LABEL)
    {
        parser_add_terminal(pp_node, pp_tok);
        if ((**pp_tok).id1 == TOK1_COLON)
        {
            parser_add_terminal(pp_node, pp_tok);
            return 0;
        }
    }

    parser_backtrack(pp_node, p_reset_node, pp_tok, p_reset_tok);
    return 1;
}

int parser_inst(struct ParserNode **pp_node, struct LexTok **pp_tok)
{
    struct ParserNode *p_reset_node = *pp_node;
    struct LexTok *p_reset_tok = *pp_tok;

    (*((*pp_node)++)).id = NODE_INST;

    if (parser_mnemonic_(pp_node, pp_tok) == 0)
    {
        if (parser_operand_(pp_node, pp_tok) == 0)
        {
            if ((**pp_tok).id1 == TOK1_COMMA)
            {
                parser_add_terminal(pp_node, pp_tok);
                if (parser_operand_(pp_node, pp_tok) == 0)
                {
                    inst_data.operand_cnt = 2;
                    return 0;
                }
            }
        }
    }

    parser_backtrack(pp_node, p_reset_node + 1, pp_tok, p_reset_tok);

    if (parser_mnemonic_(pp_node, pp_tok) == 0)
    {
        if (parser_operand_(pp_node, pp_tok) == 0)
        {
            inst_data.operand_cnt = 1;
            return 0;
        }
    }

    parser_backtrack(pp_node, p_reset_node + 1, pp_tok, p_reset_tok);

    if (parser_mnemonic_(pp_node, pp_tok) == 0)
        return 0;

    parser_backtrack(pp_node, p_reset_node, pp_tok, p_reset_tok);
    return 1;
}

int parser_mnemonic_(struct ParserNode **pp_node, struct LexTok **pp_tok)
{
    struct ParserNode *p_reset_node = *pp_node;
    struct LexTok *p_reset_tok = *pp_tok;

    (*((*pp_node)++)).id = NODE_MNEMONIC_;

    while (parser_prefix(pp_node, pp_tok) == 0);

    if (parser_mnemonic(pp_node, pp_tok) == 0)
        return 0;

    parser_backtrack(pp_node, p_reset_node, pp_tok, p_reset_tok);
    return 1;
}

int parser_operand_(struct ParserNode **pp_node, struct LexTok **pp_tok)
{
    struct ParserNode *p_reset_node = *pp_node;
    struct LexTok *p_reset_tok = *pp_tok;

    (*((*pp_node)++)).id = NODE_OPERAND_;

    while (parser_opr_prefix(pp_node, pp_tok) == 0);

    if (parser_operand(pp_node, pp_tok) == 0)
        return 0;

    parser_backtrack(pp_node, p_reset_node, pp_tok, p_reset_tok);
    return 1;
}

int parser_opr_prefix(struct ParserNode **pp_node, struct LexTok **pp_tok)
{
    struct ParserNode *p_reset_node = *pp_node;
    struct LexTok *p_reset_tok = *pp_tok;

    (*((*pp_node)++)).id = NODE_OPR_PREFIX;

    if (parser_opr_size(pp_node, pp_tok) == 0)
    {
        return 0;
    }
    else if (parser_seg_ovr(pp_node, pp_tok) == 0)
    {
        inst_data.seg_ovr = (*(*pp_tok - 2)).id1;
        return 0;
    }

    parser_backtrack(pp_node, p_reset_node, pp_tok, p_reset_tok);
    return 1;
}

int parser_opr_size(struct ParserNode **pp_node, struct LexTok **pp_tok)
{
    struct ParserNode *p_reset_node = *pp_node;
    struct LexTok *p_reset_tok = *pp_tok;

    (*((*pp_node)++)).id = NODE_OPR_SIZE;

    if ((**pp_tok).id0 == TOK0_OPR_SIZE)
    {
        if ((**pp_tok).id1 == TOK1_BYTE)
            inst_data.w = 0;
        else
            inst_data.w = 1;

        parser_add_terminal(pp_node, pp_tok);
        return 0;
    }

    parser_backtrack(pp_node, p_reset_node, pp_tok, p_reset_tok);
    return 1;
}

int parser_seg_ovr(struct ParserNode **pp_node, struct LexTok **pp_tok)
{
    struct ParserNode *p_reset_node = *pp_node;
    struct LexTok *p_reset_tok = *pp_tok;

    (*((*pp_node)++)).id = NODE_SEG_OVR;

    if (parser_reg_seg(pp_node, pp_tok) == 0)
    {
        if ((**pp_tok).id1 == TOK1_COLON)
        {
            parser_add_terminal(pp_node, pp_tok);
            return 0;
        }
    }

    parser_backtrack(pp_node, p_reset_node, pp_tok, p_reset_tok);
    return 1;
}

int parser_operand(struct ParserNode **pp_node, struct LexTok **pp_tok)
{
    struct ParserNode *p_reset_node = *pp_node;
    struct LexTok *p_reset_tok = *pp_tok;

    (*((*pp_node)++)).id = NODE_OPERAND;

    if (parser_reg_gen(pp_node, pp_tok) == 0)
    {
        _Bool reg_gen_is_dst = 0;
        for (struct LexTok *p_tok = *pp_tok; p_tok -> id0 != TOK0_EOL; ++p_tok)
        {
            if (p_tok -> id0 == TOK0_COMMA)
            {
                inst_data.p_reg_gen_dst = *pp_tok - 1;
                reg_gen_is_dst = 1;
                break;
            }
        }

        if (!reg_gen_is_dst)
            inst_data.p_reg_gen_src = *pp_tok - 1;

        return 0;
    }

    if (parser_eaddr__(pp_node, pp_tok) == 0)
        return 0;

    if (parser_reg_seg(pp_node, pp_tok) == 0)
    {
        inst_data.w = 1;
        inst_data.reg_seg = (*(*pp_tok - 1)).id1;
        return 0;
    }
    if (parser_imm(pp_node, pp_tok) == 0)
    {
        return 0;
    }

    parser_backtrack(pp_node, p_reset_node, pp_tok, p_reset_tok);
    return 1;
}

int parser_reg_gen(struct ParserNode **pp_node, struct LexTok **pp_tok)
{
    struct ParserNode *p_reset_node = *pp_node;
    struct LexTok *p_reset_tok = *pp_tok;

    (*((*pp_node)++)).id = NODE_REG_GEN;

    if ((**pp_tok).id0 == TOK0_REG_GEN)
    {
        for (size_t i = 0; i < (sizeof(id_reg_gen) / sizeof(id_reg_gen[0])); ++i)
        {
            if ((**pp_tok).id1 == id_reg_gen[i])
            {
                inst_data.w = wid_reg_gen[i];
                break;
            }
        }

        parser_add_terminal(pp_node, pp_tok);
        return 0;
    }

    parser_backtrack(pp_node, p_reset_node, pp_tok, p_reset_tok);
    return 1;
}

int parser_reg_seg(struct ParserNode **pp_node, struct LexTok **pp_tok)
{
    struct ParserNode *p_reset_node = *pp_node;
    struct LexTok *p_reset_tok = *pp_tok;

    (*((*pp_node)++)).id = NODE_REG_SEG;

    if ((**pp_tok).id0 == TOK0_REG_SEG)
    {
        parser_add_terminal(pp_node, pp_tok);
        return 0;
    }

    parser_backtrack(pp_node, p_reset_node, pp_tok, p_reset_tok);
    return 1;
}

int parser_imm(struct ParserNode **pp_node, struct LexTok **pp_tok)
{
    struct ParserNode *p_reset_node = *pp_node;
    struct LexTok *p_reset_tok = *pp_tok;

    inst_data.p_imm = *pp_node;
    (*((*pp_node)++)).id = NODE_IMM;

    parser_opr_math(pp_node, pp_tok);
    if ((**pp_tok).id1 == TOK1_NUM || (**pp_tok).id1 == TOK1_NUM_ZERO)
    {
        inst_data.imm = (**pp_tok).p_num -> value;
        parser_add_terminal(pp_node, pp_tok);
        return 0;
    }

    inst_data.p_imm = ((void*)0);
    parser_backtrack(pp_node, p_reset_node, pp_tok, p_reset_tok);
    return 1;
}

int parser_opr_math(struct ParserNode **pp_node, struct LexTok **pp_tok)
{
    struct ParserNode *p_reset_node = *pp_node;
    struct LexTok *p_reset_tok = *pp_tok;

    (*((*pp_node)++)).id = NODE_OPR_MATH;

    switch((**pp_tok).id1)
    {
    case TOK1_PLUS:
    case TOK1_MINUS:
        parser_add_terminal(pp_node, pp_tok);
        return 0;
    default:
        parser_backtrack(pp_node, p_reset_node, pp_tok, p_reset_tok);
        return 1;
    }
}




int parser_prefix(struct ParserNode **pp_node, struct LexTok **pp_tok)
{
    struct ParserNode *p_reset_node = *pp_node;
    struct LexTok *p_reset_tok = *pp_tok;

    (*((*pp_node)++)).id = NODE_PREFIX;

    if ((**pp_tok).id0 == TOK0_PREFIX)
    {
        parser_add_terminal(pp_node, pp_tok);
        return 0;
    }

    parser_backtrack(pp_node, p_reset_node, pp_tok, p_reset_tok);
    return 1;
}

int parser_mnemonic(struct ParserNode **pp_node, struct LexTok **pp_tok)
{
    struct ParserNode *p_reset_node = *pp_node;
    struct LexTok *p_reset_tok = *pp_tok;

    (*((*pp_node)++)).id = NODE_MNEMONIC;

    if ((**pp_tok).id0 == TOK0_MNEMONIC)
    {
        inst_data.mnemonic = (**pp_tok).id1;
        parser_add_terminal(pp_node, pp_tok);
        return 0;
    }

    parser_backtrack(pp_node, p_reset_node, pp_tok, p_reset_tok);
    return 1;
}

int parser_eaddr__(struct ParserNode **pp_node, struct LexTok **pp_tok)
{
    struct ParserNode *p_reset_node = *pp_node;
    struct LexTok *p_reset_tok = *pp_tok;

    inst_data.p_eaddr__ = *pp_node;
    (*((*pp_node)++)).id = NODE_EADDR__;

    if ((**pp_tok).id1 == TOK1_LSQUARE_BR)
    {
        parser_add_terminal(pp_node, pp_tok);
        if (parser_eaddr_(pp_node, pp_tok) == 0)
        {
            if ((**pp_tok).id1 == TOK1_RSQUARE_BR)
            {
                parser_add_terminal(pp_node, pp_tok);
                return 0;
            }
        }
    }

    parser_backtrack(pp_node, p_reset_node, pp_tok, p_reset_tok);
    return 1;
}

int parser_eaddr_(struct ParserNode **pp_node, struct LexTok **pp_tok)
{
    struct ParserNode *p_reset_node = *pp_node;
    struct LexTok *p_reset_tok = *pp_tok;

    (*((*pp_node)++)).id = NODE_EADDR_;

    if ((**pp_tok).id1 == TOK1_PLUS)
        parser_add_terminal(pp_node, pp_tok);

    if (parser_eaddr(pp_node, pp_tok) == 0)
        return 0;

    parser_backtrack(pp_node, p_reset_node, pp_tok, p_reset_tok);
    return 1;
}

int parser_eaddr(struct ParserNode **pp_node, struct LexTok **pp_tok)
{
    struct ParserNode *p_reset_node = *pp_node;
    struct LexTok *p_reset_tok = *pp_tok;

    (*((*pp_node)++)).id = NODE_EADDR;

    if (parser_reg_base(pp_node, pp_tok) == 0)
    {
        if ((**pp_tok).id1 == TOK1_PLUS)
        {
            parser_add_terminal(pp_node, pp_tok);
            if (parser_reg_idx(pp_node, pp_tok) == 0)
            {
                if (parser_signed_num(pp_node, pp_tok) == 0)
                {
                    inst_data.disp = (*(*pp_tok - 1)).p_num -> value;
                    return 0;
                }
            }
        }
    }

    parser_backtrack(pp_node, p_reset_node + 1, pp_tok, p_reset_tok);

    if (parser_reg_base(pp_node, pp_tok) == 0)
    {
        if (parser_signed_num(pp_node, pp_tok) == 0)
        {
            inst_data.disp = (*(*pp_tok - 1)).p_num -> value;
            return 0;
        }

    }

    parser_backtrack(pp_node, p_reset_node + 1, pp_tok, p_reset_tok);

    if (parser_reg_idx(pp_node, pp_tok) == 0)
    {
        if (parser_signed_num(pp_node, pp_tok) == 0)
        {
            inst_data.disp = (*(*pp_tok - 1)).p_num -> value;
            return 0;
        }
    }

    parser_backtrack(pp_node, p_reset_node + 1, pp_tok, p_reset_tok);

    if (parser_reg_base(pp_node, pp_tok) == 0)
    {
        if ((**pp_tok).id1 == TOK1_PLUS)
        {
            parser_add_terminal(pp_node, pp_tok);
            if (parser_reg_idx(pp_node, pp_tok) == 0)
            {
                parser_signed_zero(pp_node, pp_tok);
                return 0;
            }
        }
    }

    parser_backtrack(pp_node, p_reset_node + 1, pp_tok, p_reset_tok);

    if (parser_reg_base(pp_node, pp_tok) == 0)
    {
        parser_signed_zero(pp_node, pp_tok);
        return 0;
    }

    if (parser_reg_idx(pp_node, pp_tok) == 0)
    {
        parser_signed_zero(pp_node, pp_tok);
        return 0;
    }

    if (parser_direct_addr(pp_node, pp_tok) == 0)
        return 0;

    parser_backtrack(pp_node, p_reset_node, pp_tok, p_reset_tok);
    return 1;
}

int parser_direct_addr(struct ParserNode **pp_node, struct LexTok **pp_tok)
{
    struct ParserNode *p_reset_node = *pp_node;
    struct LexTok *p_reset_tok = *pp_tok;

    inst_data.p_daddr = *pp_node;
    (*((*pp_node)++)).id = NODE_DIRECT_ADDR;

    parser_opr_math(pp_node, pp_tok);
    if ((**pp_tok).id1 == TOK1_NUM || (**pp_tok).id1 == TOK1_NUM_ZERO)
    {
        inst_data.daddr = (**pp_tok).p_num -> value;
        parser_add_terminal(pp_node, pp_tok);
        return 0;
    }

    inst_data.p_daddr = ((void*)0);
    parser_backtrack(pp_node, p_reset_node, pp_tok, p_reset_tok);
    return 1;
}

int parser_signed_num(struct ParserNode **pp_node, struct LexTok **pp_tok)
{
    struct ParserNode *p_reset_node = *pp_node;
    struct LexTok *p_reset_tok = *pp_tok;

    (*((*pp_node)++)).id = NODE_SIGNED_NUM;

    if (parser_opr_math(pp_node, pp_tok) == 0)
    {
        if ((**pp_tok).id1 == TOK1_NUM)
        {
            parser_add_terminal(pp_node, pp_tok);
            return 0;
        }
    }

    parser_backtrack(pp_node, p_reset_node, pp_tok, p_reset_tok);
    return 1;
}

int parser_signed_zero(struct ParserNode **pp_node, struct LexTok **pp_tok)
{
    struct ParserNode *p_reset_node = *pp_node;
    struct LexTok *p_reset_tok = *pp_tok;

    (*((*pp_node)++)).id = NODE_SIGNED_ZERO;

    if (parser_opr_math(pp_node, pp_tok) == 0)
    {
        if ((**pp_tok).id1 == TOK1_NUM_ZERO)
        {
            parser_add_terminal(pp_node, pp_tok);
            return 0;
        }
    }

    parser_backtrack(pp_node, p_reset_node, pp_tok, p_reset_tok);
    return 1;
}

int parser_reg_base(struct ParserNode **pp_node, struct LexTok **pp_tok)
{
    struct ParserNode *p_reset_node = *pp_node;
    struct LexTok *p_reset_tok = *pp_tok;

    (*((*pp_node)++)).id = NODE_REG_BASE;

    if ((**pp_tok).id1 == TOK1_BX || (**pp_tok).id1 == TOK1_BP)
    {
        inst_data.reg_base = (**pp_tok).id1;
        parser_add_terminal(pp_node, pp_tok);
        return 0;
    }

    parser_backtrack(pp_node, p_reset_node, pp_tok, p_reset_tok);
    return 1;
}

int parser_reg_idx(struct ParserNode **pp_node, struct LexTok **pp_tok)
{
    struct ParserNode *p_reset_node = *pp_node;
    struct LexTok *p_reset_tok = *pp_tok;

    (*((*pp_node)++)).id = NODE_REG_IDX;

    if ((**pp_tok).id1 == TOK1_SI || (**pp_tok).id1 == TOK1_DI)
    {
        inst_data.reg_idx = (**pp_tok).id1;
        parser_add_terminal(pp_node, pp_tok);
        return 0;
    }

    parser_backtrack(pp_node, p_reset_node, pp_tok, p_reset_tok);
    return 1;
}
# 12 "asm8086.c" 2
# 1 "./asm8086_codegen.c" 1
# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/stdlib.h" 1 3 4
# 2 "./asm8086_codegen.c" 2
# 1 "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/stdio.h" 1 3 4
# 3 "./asm8086_codegen.c" 2


# 1 "./asm8086_codegen.h" 1






int codegen(struct ParserNode *p_node_start,
            struct LexTok *p_tok_start,
            struct InstEnc *encoding);

int instgen(struct Instruction inst,
            struct ParserNode *p_node_start,
            struct LexTok *p_tok_start,
            u64 *p_inst_enc);

struct LexTok *get_reg_gen_for_rm_field(struct LexTok *p_tok_start);
struct LexTok *get_reg_gen_for_reg_field(struct LexTok *p_tok_start);

int set_p_comma(struct LexTok *p_tok_start);
int set_rmd_regd(struct LexTok *p_tok_start);
int set_rm(struct LexTok *p_tok_start);
int set_mod(void);
# 6 "./asm8086_codegen.c" 2

int set_p_comma(struct LexTok *p_tok_start)
{
    for (struct LexTok *p_tok = p_tok_start; p_tok -> id0 != TOK0_EOL; ++p_tok)
    {
        if (p_tok -> id0 == TOK0_COMMA)
        {
            inst_data.p_comma = p_tok;
            return 0;
        }
    }

    return 1;
}

int set_rmd_regd(struct LexTok *p_tok_start)
{
    for (struct LexTok *p_tok = p_tok_start; p_tok -> id0 != TOK0_EOL; ++p_tok)
    {
        if (p_tok -> id0 == TOK0_LSQUARE_BR)
        {
            if (inst_data.p_comma - p_tok > 0)
            {
                inst_data.rmd = 1;
                inst_data.regd = 0;
            }
            else
            {
                inst_data.rmd = 0;
                inst_data.regd = 1;
            }

            return 0;
        }
    }

    struct LexTok *p_tok_reg_gen_dst = ((void*)0);
    struct LexTok *p_tok_reg_gen_src = ((void*)0);

    for (struct LexTok *p_tok = p_tok_start; p_tok -> id0 != TOK0_EOL; ++p_tok)
    {
        if (p_tok -> id0 == TOK0_REG_GEN)
        {
            if (inst_data.p_comma - p_tok > 0)
                p_tok_reg_gen_dst = p_tok;
            else
                p_tok_reg_gen_src = p_tok;
        }
    }

    if (p_tok_reg_gen_dst != ((void*)0) && p_tok_reg_gen_src != ((void*)0))
    {
        inst_data.rmd = 1;
        inst_data.regd = 0;
    }
    else if (p_tok_reg_gen_dst != ((void*)0) && p_tok_reg_gen_src == ((void*)0))
    {
        inst_data.rmd = 1;
        inst_data.regd = 1;
    }
    else if (p_tok_reg_gen_dst == ((void*)0) && p_tok_reg_gen_src != ((void*)0))
    {
        inst_data.rmd = 0;
        inst_data.regd = 0;
    }

    return 0;
}

int set_mod(void)
{
    if (inst_data.p_eaddr__ == ((void*)0))
    {
        inst_data.mod = 0b11;
        return 0;
    }

    if (inst_data.p_daddr != ((void*)0))
    {
        inst_data.mod = 0b00;
        return 0;
    }

    if (inst_data.p_daddr == ((void*)0) && inst_data.disp == 0)
    {
        if (inst_data.reg_base == TOK1_BP && inst_data.reg_idx == TOK1_NONE)
            inst_data.mod = 0b01;
        else
            inst_data.mod = 0b00;

        return 0;
    }

    long msb_disp = inst_data.disp >> 8;
    if (msb_disp == 0x00 || msb_disp == 0xff)
        inst_data.mod = 0b01;
    else
        inst_data.mod = 0b10;

    return 0;
}

int set_rm(struct LexTok *p_tok_start)
{
    if (inst_data.p_eaddr__ != ((void*)0) && inst_data.p_daddr != ((void*)0))
    {
        inst_data.rm = 0b110;
        return 0;
    }

    for (size_t i = 0; i < (sizeof(eaddr) / sizeof(eaddr[0])); ++i)
    {
        if (inst_data.reg_base == eaddr[i].reg_base && inst_data.reg_idx == eaddr[i].reg_idx)
        {
            inst_data.rm = enc_rm_eaddr[i];
            return 0;
        }
    }

    struct LexTok *p_tok_reg_gen = get_reg_gen_for_rm_field(p_tok_start);
    if (p_tok_reg_gen == ((void*)0))
        return 1;

    for (size_t i = 0; i < (sizeof(id_reg_gen) / sizeof(id_reg_gen[0])); ++i)
    {
        if (p_tok_reg_gen -> id1 == id_reg_gen[i])
        {
            inst_data.rm = enc_reg_gen[i];
            return 0;
        }
    }

    return 1;
}

struct LexTok *get_reg_gen_for_rm_field(struct LexTok *p_tok_start)
{
    if (inst_data.operand_cnt == 2)
    {
        return (inst_data.rmd == 0) ? inst_data.p_reg_gen_src:
                                      inst_data.p_reg_gen_dst;
    }
    else
    {
        printf("TODO: get_reg_gen_for_rm_field single operand\n");
        return ((void*)0);
    }
}

struct LexTok *get_reg_gen_for_reg_field(struct LexTok *p_tok_start)
{
    if (inst_data.operand_cnt == 2)
    {
        return (inst_data.regd == 0) ? inst_data.p_reg_gen_src:
                                       inst_data.p_reg_gen_dst;
    }
    else
    {
        printf("TODO: get_reg_gen_for_reg_field single operand\n");
        return ((void*)0);
    }
}

int codegen(struct ParserNode *p_node_start,
            struct LexTok *p_tok_start,
            struct InstEnc *encoding)
{
    u64 inst_enc_stack[10] = {0};
    u64 *inst_enc_sp = inst_enc_stack;

    if (inst_data.operand_cnt == 2)
    {
        set_p_comma(p_tok_start);
        set_rmd_regd(p_tok_start);
    }

    set_mod();
    set_rm(p_tok_start);

    size_t inst_idx = 0;
    while (inst_data.mnemonic != inst_table[inst_idx].id_mnemonic)
        ++inst_idx;

    while (inst_data.mnemonic == inst_table[inst_idx].id_mnemonic)
    {
        u64 inst_enc = 0;
        if (instgen(inst_table[inst_idx++], p_node_start, p_tok_start, &inst_enc) != 0)
            continue;

        *inst_enc_sp++ = inst_enc;
    }

    if (inst_enc_sp == inst_enc_stack)
        return 1;

    for (u64 *p_enc = inst_enc_stack; p_enc != inst_enc_sp; ++p_enc)
        printf("%llx\n", *p_enc);

    encoding -> enc = *inst_enc_stack;
    encoding -> len = 6;
    for (u64 *p_enc = inst_enc_stack; p_enc != inst_enc_sp; ++p_enc)
    {
        u8 inst_len = 1;
        while ((*p_enc >> (inst_len * 8)) != 0)
            ++inst_len;

        if (inst_len < (encoding -> len))
        {
            encoding -> enc = *p_enc;
            encoding -> len = inst_len;
        }

        printf("encoding -> enc = %llx\n", encoding -> enc);
        printf("encoding -> len = %d\n", encoding -> len);
    }

    printf("chosen encoding = %llx\n", encoding -> enc);

    return 0;
}

int instgen(struct Instruction inst,
            struct ParserNode *p_node_start,
            struct LexTok *p_tok_start,
            u64 *p_inst_enc)
{
    if (inst_data.p_imm != ((void*)0))
    {
        _Bool imm_field_present = 0;
        for (size_t idx = 0; inst.fields[idx].id != INST_END; ++idx)
        {
            if (inst.fields[idx].id == INST_IMM)
            {
                imm_field_present = 1;
                break;
            }
        }

        if (!imm_field_present)
            return 1;
    }

    for (size_t idx = 0; inst.fields[idx].id != INST_END; ++idx)
    {
        u8 size = inst.fields[idx].size;
        u8 value = inst.fields[idx].value;

        switch (inst.fields[idx].id)
        {
        case INST_OPCODE1:
        case INST_OPCODE2:
        {
            *p_inst_enc = (*p_inst_enc << size) | value;
            break;
        }
        case INST_D:
        {
            *p_inst_enc = (*p_inst_enc << size) | inst_data.regd;
            break;
        }
        case INST_ImplRegD:
        {
            if (inst_data.regd != value)
                return 1;

            break;
        }
        case INST_ImplRmD:
        {
            if (inst_data.rmd != value)
                return 1;

            break;
        }
        case INST_W:
        {
            *p_inst_enc = (*p_inst_enc << size) | inst_data.w;
            break;
        }
        case INST_MOD:
        {
            *p_inst_enc = (*p_inst_enc << size) | inst_data.mod;
            break;
        }
        case INST_REG:
        {
            struct LexTok *p_tok_reg_gen = get_reg_gen_for_reg_field(p_tok_start);
            if (p_tok_reg_gen == ((void*)0))
                return 1;

            for (size_t i = 0; i < (sizeof(id_reg_gen) / sizeof(id_reg_gen[0])); ++i)
            {
                if (p_tok_reg_gen -> id1 == id_reg_gen[i])
                {
                    *p_inst_enc = (*p_inst_enc << size) | enc_reg_gen[i];
                    break;
                }
            }

            break;
        }
        case INST_ImplReg:
        {
            struct LexTok *p_tok_reg_gen = get_reg_gen_for_reg_field(p_tok_start);
            if (p_tok_reg_gen == ((void*)0))
                return 1;

            for (size_t i = 0; i < (sizeof(id_reg_gen) / sizeof(id_reg_gen[0])); ++i)
            {
                if (p_tok_reg_gen -> id1 == id_reg_gen[i])
                {
                    if (enc_reg_gen[i] != value)
                        return 1;
                }
            }

            break;
        }
        case INST_RM:
        {
            *p_inst_enc = (*p_inst_enc << size) | inst_data.rm;
            break;
        }
        case INST_SR:
        {
            if (inst_data.reg_seg == TOK1_NONE)
                return 1;

            for (size_t i = 0; i < (sizeof(id_reg_seg) / sizeof(id_reg_seg[0])); ++i)
            {
                if (inst_data.reg_seg == id_reg_seg[i])
                {
                    *p_inst_enc = (*p_inst_enc << size) | enc_reg_seg[i];
                    break;
                }
            }

            break;
        }
        case INST_DISP:
        {
            switch (inst_data.mod)
            {
            case 0b00:
            {
                if (inst_data.p_daddr != ((void*)0))
                {
                    u64 daddr_little_endian = ((u64)inst_data.daddr) >> 8 | ((inst_data.daddr << 8) & 0xff00);
                    *p_inst_enc = (*p_inst_enc << 16) | daddr_little_endian;
                }
                break;
            }
            case 0b01:
            {
                *p_inst_enc = (*p_inst_enc << 8) | (inst_data.disp & 0xff);
                break;
            }
            case 0b10:
            {
                u64 disp_little_endian = ((u64)inst_data.disp) >> 8 | ((inst_data.disp << 8) & 0xff00);
                *p_inst_enc = (*p_inst_enc << 16) | disp_little_endian;
                break;
            }
            }

            break;
        }
        case INST_IMM:
        {
            if (inst_data.p_imm == ((void*)0))
                return 1;

            if (inst_data.w == 0)
            {
                if (inst_data.imm >> 8 == 0x00 || inst_data.imm >> 8 == 0xff)
                    *p_inst_enc = (*p_inst_enc << 8) | (inst_data.imm & 0xff);
                else
                    return 1;
            }
            else
            {
                u64 imm_little_endian = (u64)inst_data.imm >> 8 | ((inst_data.imm << 8) & 0xff00);
                *p_inst_enc = (*p_inst_enc << 16) | imm_little_endian;
            }

            break;
        }
        case INST_ADDR:
        {
            if (inst_data.p_daddr == ((void*)0))
                return 1;

            u64 eaddr_little_endian = (((u64)inst_data.daddr) >> 8) | ((inst_data.daddr << 8) & 0xff00);
            *p_inst_enc = (*p_inst_enc << 16) | eaddr_little_endian;
            break;
        }
        case INST_END:
        {
            break;
        }
        }
    }

    return 0;
}
# 13 "asm8086.c" 2







int main(int argc, char **argv)
{
    FILE *asm_fp = fopen(argv[1], "r");
    (__builtin_expect(!(asm_fp != ((void*)0)), 0) ? __assert_rtn(__func__, "asm8086.c", 23, "asm_fp != NULL") : (void)0);

    fseek(asm_fp, 0, 2);
    size_t asm_filelen = (size_t)(ftell(asm_fp) + 1);
    rewind(asm_fp);

    size_t asm_bufferlen = asm_filelen - 1;
    char *asm_buffer = malloc((asm_bufferlen + 1) * sizeof(*asm_buffer));
    (__builtin_expect(!(asm_buffer != ((void*)0)), 0) ? __assert_rtn(__func__, "asm8086.c", 31, "asm_buffer != NULL") : (void)0);

    fread(asm_buffer, 1, asm_bufferlen + 1, asm_fp);
    (__builtin_expect(!(ferror(asm_fp) == 0), 0) ? __assert_rtn(__func__, "asm8086.c", 34, "ferror(asm_fp) == 0") : (void)0);
    (__builtin_expect(!(feof(asm_fp) != 0), 0) ? __assert_rtn(__func__, "asm8086.c", 35, "feof(asm_fp) != 0") : (void)0);
    (__builtin_expect(!(asm_buffer[asm_bufferlen - 1] == '\n'), 0) ? __assert_rtn(__func__, "asm8086.c", 36, "asm_buffer[asm_bufferlen - 1] == '\\n'") : (void)0);
    fclose(asm_fp);

    (__builtin_expect(!(strlen(argv[1]) < 64 - 1), 0) ? __assert_rtn(__func__, "asm8086.c", 39, "strlen(argv[1]) < LEN_MAX_FILENAME - 1") : (void)0);
    char basename[64];
    get_basename(argv[1], basename);

    FILE *bin_fp = fopen(basename, "wb");
    (__builtin_expect(!(bin_fp != ((void*)0)), 0) ? __assert_rtn(__func__, "asm8086.c", 44, "bin_fp != NULL") : (void)0);

    struct LexTok *tok_stack = malloc((1024 * 1) * sizeof(*tok_stack));
    (__builtin_expect(!(tok_stack != ((void*)0)), 0) ? __assert_rtn(__func__, "asm8086.c", 47, "tok_stack != NULL") : (void)0);
    struct LexTok *tok_sp = tok_stack;

    struct LexTokLabel *lbl_stack = malloc((1024 * 1) * sizeof(*lbl_stack));
    (__builtin_expect(!(lbl_stack != ((void*)0)), 0) ? __assert_rtn(__func__, "asm8086.c", 51, "lbl_stack != NULL") : (void)0);
    struct LexTokLabel *lbl_sp = lbl_stack;

    struct LexTokNum *num_stack = malloc((1024 * 1) * sizeof(*num_stack));
    (__builtin_expect(!(num_stack != ((void*)0)), 0) ? __assert_rtn(__func__, "asm8086.c", 55, "num_stack != NULL") : (void)0);
    struct LexTokNum *num_sp = num_stack;

    char *p_asm_buf = asm_buffer;
    if (lexer(&tok_sp, &p_asm_buf, &lbl_sp, &num_sp) != 0)
        return printf("lexer error\n"), 1;
    else
        printf("lexer success\n");

    struct ParserNode *node_stack = malloc((1024 * 1) * sizeof(*node_stack));

    struct LexTok *p_tok = tok_stack;
    struct ParserNode *node_sp = node_stack;
    while (p_tok != tok_sp)
    {
        __builtin___memset_chk (&inst_data, 0, sizeof(inst_data), __builtin_object_size (&inst_data, 0));

        struct LexTok *p_tok_start = p_tok;
        struct ParserNode *p_node_start = node_sp;

        if (parser_line_(&node_sp, &p_tok) == 0)
            printf("parser success\n");
        else
            printf("parser error\n");



        struct InstEnc encoding = {0};
        if (codegen(p_node_start, p_tok_start, &encoding) == 0)
            write_inst_to_file(encoding, bin_fp);
        else
            printf("codegen error\n");
    }

    free(asm_buffer);
    free(tok_stack);
    free(lbl_stack);
    free(num_stack);
    free(node_stack);

    fclose(bin_fp);

    return 0;
}
